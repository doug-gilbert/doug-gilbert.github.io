<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title>Scsi_debug adapter driver for Linux</title>
	<meta name="generator" content="LibreOffice 7.3.2.2 (Linux)"/>
	<meta name="created" content="00:00:00"/>
	<meta name="changed" content="2022-05-15T21:04:29.729295384"/>
	<meta name="keywords" content="Linux driver, SCSI, ramdisk"/>
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<style type="text/css">
		@page { size: 21.59cm 27.94cm; margin-left: 2cm; margin-right: 1cm; margin-top: 1cm; margin-bottom: 1cm }
		p { line-height: 115%; margin-bottom: 0.25cm; background: transparent; background: transparent }
		h2 { margin-top: 0.35cm; margin-bottom: 0.21cm; background: transparent; background: transparent; page-break-after: avoid }
		h2.western { font-family: "Liberation Serif", serif; font-size: 18pt; font-weight: bold }
		h2.cjk { font-family: "Noto Sans CJK SC Regular"; font-size: 18pt; font-weight: bold }
		h2.ctl { font-family: "Lohit Devanagari"; font-size: 18pt; font-weight: bold }
		h3 { margin-top: 0.25cm; margin-bottom: 0.21cm; background: transparent; background: transparent; page-break-after: avoid }
		h3.western { font-family: "Liberation Serif", serif; font-size: 14pt; font-weight: bold }
		h3.cjk { font-family: "Noto Sans CJK SC Regular"; font-size: 14pt; font-weight: bold }
		h3.ctl { font-family: "Lohit Devanagari"; font-size: 14pt; font-weight: bold }
		pre { background: transparent; background: transparent }
		pre.western { font-family: "Liberation Mono", monospace; font-size: 10pt }
		pre.cjk { font-family: "Courier New", monospace; font-size: 10pt }
		pre.ctl { font-family: "Liberation Mono", monospace; font-size: 10pt }
		h1 { margin-bottom: 0.21cm; background: transparent; background: transparent; page-break-after: avoid }
		h1.western { font-family: "Liberation Serif", serif; font-size: 24pt; font-weight: bold }
		h1.cjk { font-family: "Noto Serif CJK SC"; font-size: 24pt; font-weight: bold }
		h1.ctl { font-family: "Lohit Devanagari"; font-size: 24pt; font-weight: bold }
		td p { orphans: 0; widows: 0; background: transparent; background: transparent }
		th p { font-weight: bold; text-align: center; orphans: 0; widows: 0; background: transparent; background: transparent }
		tt.western { font-family: "Liberation Mono", monospace }
		tt.cjk { font-family: "Courier New", monospace }
		tt.ctl { font-family: "Liberation Mono", monospace }
		code.western { font-family: "Liberation Mono", monospace }
		code.cjk { font-family: "Courier New", monospace }
		code.ctl { font-family: "Liberation Mono", monospace }
		a:link { color: #000080; so-language: zxx; text-decoration: underline }
		a:visited { color: #800000; so-language: zxx; text-decoration: underline }
	</style>
</head>
<body lang="en-CA" link="#000080" vlink="#800000" background="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/wgALCADYANgBAREA/8QAGAABAQEBAQAAAAAAAAAAAAAAAQIAAwb/2gAIAQEAAAAB9z1ybbnhz03OVvQIiULolVueZTsSzTtsIai86M7VEjkoqSsZszzmq0pDquWd0eZTl5Z2mgNVXA5NUnWJi8bVA69UFXIbUxO6EzWikvMnWDN7QRVGKJy6rmWgUink5BZek041QUkumVwtTWmzThaIbl5O6xqmVUYcNkVUTLXQZl2agcGuKamdrqYzUNMbGmrm9iHW8XoSNEYrNzfMLKnpopmJVNqU2nVRtjM1zK2qOkyz0mysbDtow1pL56imtsPPUm5jumh0ubQ1aJti+cOV0hVW40dCKxXOGWnYd0zjSXBeTntNO01VbO257ax0CCFnTZHaZ1u2iUwi27bbadW2xGxts1W222xppxy2zrYpcOCue2uaiUd0edTYx0iemiXpJgmtd85Tr//EAB0QAAEFAQEBAQAAAAAAAAAAAAEQESAwQABQMWD/2gAIAQEAAQUC2PF5CB1nE1ryEmmFOk7mQ2AUlRzwEGudDE5jFkE3sPGtrQpwmDoFPFRaYAI29qjd9QDK/inUZHwBYYNe1bROo/ixMbQEMf/EABQQAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQEABj8CNn//xAAhEAEBAQADAQEBAQEBAQEAAAABABEQITFBUWEgcTChgf/aAAgBAQABPyF76s67vbbN4ZmMvu22NnVky7MYHHRbZ33LABLvnAd8NhAl/I64JPAbfb+o7eGUCxHduR33NtuFusR3LkEvH9bZeru8twg+7H5bhbO8CDgD1t5e48thvZflis4E3bak+EmWQME9Wd9y8at3ZnrPBno429dwOwBZ3JGwmwmTNu9g+y/27dwO8mCb5PtssnURF/ywyZ7uvljL8Js67vf+Swa8J+XhHbt3bM8ZhrL3PdnVnyDq3u7C2YOuFC3uZ8sYMJbuVXg6X3OAdx3LLBLArbhZB+zdl8v3jOoLNui2Xyz9lhgT8F5PGOEODgG9wd8JwDBOFn7brbez2wgz/vDLbfyz7wD7ElkFlkeRMm/bo64X4Wfre8fZ76LMnq/jjD7xi36b2Em2XyT+3/I6OSf287tXgPsdX/ZjqyBeJcj9jtvk2SYYT+F9u7X1gwh35B3N39g820j+29QS5bfqe52TyOXt5EvdkGd3zYs/Ytydg6l5LvPi3vhmS9dQ6vBZBDhchYFb+S3bxvJ37I8svk/y/SXqFeHG3se6z5B/8jhGCDOFMt40t22d4zSfyDqCO+FtXu3XLx3ZJ1LHltmsHDLgstyyyMju63IttlvVmuQHD3PG3bbE7s8Z3GWbZnVtjZhbkdd38R23yzWM+QTZPkEt7wZLL+ey8rBeS50WKz5L3wH7B3Zhef5CZdQwS4Xf/wCz0f23uXW295Le+TPbb/5BwuS29xwrt7gzgFe5Qlb+XkdcH5b8ISHttu4FgvvGy8HsSyxLHd5PU6vCwchC2Log1sw/wlkvyB4W7TZbnDB94yCLe49sgwyIGf62e56sctQZBw4cAmZb5MQdQdwXbZx9/wAPAWf4ZT3w+22bJ1wRB/4M7B/pQ9t2wly3eH+WcH/npbKvkcrhOxdwKz1H9gvLNeA595WHZ8v+x+tsLoLdbcn9ZdvIfWI9g4XW8ti2XCFXhWBuiZbVg17t+E/k+WsrKzt8lXyw94XfG9XcdF//2gAIAQEAAAAQgPzz/wCfn/f/APPt/wD7X4/P3/N/bf3u/ft/vW/vmZv/AEDH/wBY+a//AN82x+/++dn9jmd/X0j/AIOAX16AF5vgMfP5DK/2CSp/A2HfwHh/4Awf+AAD/gAQ/IAevyizvu9//8QAGxAAAgIDAQAAAAAAAAAAAAAAARFQYBAhMXD/2gAIAQEAAT8QylS7AIIRpAyMMMHHCVLZIArEcgF5BmYCAoJU2EUFBoOAs6HBAEAKDjYGFQpCKQwMUoANg+gIF0oJEAQT4WFggSw0B0WBmKTmIBDI1xKggpMDCBCAhxFAhp2leECmEDDULihRABEIYRCZCAmEFMyA6gwYkVCqdgEIj1IAJDyC4oGEmkABSIQxQA4SEEaYREyADwAWZJSEMCkgwlJAAEKAA5RDAaFkICZAcEGTGAgmAgBE1T//2Q==" dir="ltr"><h1 class="western" align="center">
Scsi_debug adapter driver for Linux</h1>
<p align="right" style="margin-bottom: 0cm"><br/>

</p>
<div id="Table of Contents1" dir="ltr"><p style="line-height: 100%; margin-bottom: 0cm; background: transparent">
	<a href="#__RefHeading___Toc117_3679520260">Scsi_debug adapter
	driver for Linux</a></p>
	<p style="line-height: 100%; margin-left: 0.5cm; margin-bottom: 0cm; background: transparent">
	<a href="#__RefHeading___Toc119_3679520260">Introduction</a></p>
	<p style="line-height: 100%; margin-left: 0.5cm; margin-bottom: 0cm; background: transparent">
	<a href="#__RefHeading___Toc121_3679520260">Parameters</a></p>
	<p style="line-height: 100%; margin-left: 0.5cm; margin-bottom: 0cm; background: transparent">
	<a href="#__RefHeading___Toc123_3679520260">Supported SCSI commands</a></p>
	<p style="line-height: 100%; margin-left: 0.5cm; margin-bottom: 0cm; background: transparent">
	<a href="#__RefHeading___Toc125_3679520260">Logical and physical
	block size</a></p>
	<p style="line-height: 100%; margin-left: 0.5cm; margin-bottom: 0cm; background: transparent">
	<a href="#__RefHeading___Toc127_3679520260">Logical block
	provisioning</a></p>
	<p style="line-height: 100%; margin-left: 0.5cm; margin-bottom: 0cm; background: transparent">
	<a href="#__RefHeading___Toc129_3679520260">Unit attentions</a></p>
	<p style="line-height: 100%; margin-left: 0.5cm; margin-bottom: 0cm; background: transparent">
	<a href="#__RefHeading___Toc131_3679520260">Zoned Block Devices</a></p>
	<p style="line-height: 100%; margin-left: 0.5cm; margin-bottom: 0cm; background: transparent">
	<a href="#__RefHeading___Toc133_3679520260">iopoll/blk_poll</a></p>
	<p style="line-height: 100%; margin-left: 0.5cm; margin-bottom: 0cm; background: transparent">
	<a href="#__RefHeading___Toc135_3679520260">Examples</a></p>
	<p style="line-height: 100%; margin-left: 1cm; margin-bottom: 0cm; background: transparent">
	<a href="#__RefHeading___Toc137_3679520260">Basic</a></p>
	<p style="line-height: 100%; margin-left: 1cm; margin-bottom: 0cm; background: transparent">
	<a href="#__RefHeading___Toc139_3679520260">Adding and removing
	hosts and devices</a></p>
	<p style="line-height: 100%; margin-left: 1cm; margin-bottom: 0cm; background: transparent">
	<a href="#__RefHeading___Toc141_3679520260">Mode pages</a></p>
	<p style="line-height: 100%; margin-left: 1cm; margin-bottom: 0cm; background: transparent">
	<a href="#__RefHeading___Toc143_3679520260">per_host_store</a></p>
	<p style="line-height: 100%; margin-left: 1cm; margin-bottom: 0cm; background: transparent">
	<a href="#__RefHeading___Toc145_3679520260">VERIFY</a></p>
	<p style="line-height: 100%; margin-left: 1cm; margin-bottom: 0cm; background: transparent">
	<a href="#__RefHeading___Toc147_3679520260">ZBC test scripts</a></p>
	<p style="line-height: 100%; margin-left: 1cm; margin-bottom: 0cm; background: transparent">
	<a href="#__RefHeading___Toc149_3679520260">REPORT LUNS Well Known
	LU</a></p>
	<p style="line-height: 100%; margin-left: 1cm; margin-bottom: 0cm; background: transparent">
	<a href="#__RefHeading___Toc151_3679520260">SAS personality</a></p>
	<p style="line-height: 100%; margin-left: 0.5cm; margin-bottom: 0cm; background: transparent">
	<a href="#__RefHeading___Toc153_3679520260">Downloads</a></p>
	<p style="line-height: 100%; margin-left: 0.5cm; margin-bottom: 0cm; background: transparent">
	<a href="#__RefHeading___Toc155_3679520260">Conclusion</a></p>
</div>
<p><br/>
<br/>

</p>
<h2 class="western"><a name="__RefHeading___Toc117_1100238797"></a><a name="__RefHeading___Toc119_3679520260"></a><a name="__RefHeading___Toc145_2530062151"></a><a name="mozTocId713269"></a><a name="__RefHeading___Toc293_941978325"></a><a name="__RefHeading___Toc235_974356461"></a><a name="__RefHeading___Toc469_3114999558"></a>
<b>Introduction</b></h2>
<p>The scsi_debug adapter driver simulates a variable number of SCSI
disks, each typically (but not always) sharing a common amount of RAM
allocated by the driver to act as (volatile) storage. With one SCSI
disk simulated, the scsi_debug driver is functionally equivalent to a
RAM disk. When multiple SCSI disks are simulated, they could be
viewed as multiple paths to the same storage device or simply
separate devices. The driver can also be used to simulate very large
disks, 20 terabytes or more in size by &quot;wrapping&quot; its data
access within the available ram.</p>
<p>A small but hopefully useful set of SCSI commands is supported
along with some crude error checking. The number of simulated devices
and the shared RAM size for storage can be given as module parameters
or boot time parameters if the scsi_debug driver is built into the
kernel. The number of simulated devices (and hosts) can be varied at
run time via sysfs. Various error conditions can be optionally
generated to test the reaction of upper levels of the kernel and
applications to abnormal situations.</p>
<p>To create real SCSI targets and Logical Units for something like
an iSCSI server, the reader may prefer the Linux target subsystem,
specifically the tcm_loop driver. In short: if you want create real
SCSI devices then use the target subsystem; if you want to test or
break something then read on. At the time of writing, the most recent
version of this driver is 1.90 which adds the <font color="#006c3b">tur_ms_to_ready</font>
parameter and supports iopoll/blk_poll()/hipri requests.</p>
<p>This page describes the driver as found in the Linux kernel
version 5.11.0 and/or possibly 5.12.0 . Earlier versions of this
driver worked with the Linux kernel 2.6 series. For information about
the scsi_debug driver found in the lk 2.4 production series see this
page. A not so ancient, earlier version is <a href="sdebug26.html"><font color="#21409a">here</font></a>
.</p>
<h2 class="western"><a name="__RefHeading___Toc121_3679520260"></a><a name="__RefHeading___Toc119_1100238797"></a><a name="__RefHeading___Toc471_3114999558"></a><a name="__RefHeading___Toc295_941978325"></a><a name="__RefHeading___Toc237_974356461"></a><a name="__RefHeading___Toc147_2530062151"></a><a name="mozTocId613134"></a>
Parameters</h2>
<p>The parameter name given in the table below is the module
parameter name and the sysfs file name. The boot time parameter (if
the scsi_debug driver is built into the kernel (not recommended)) has
&quot;scsi_debug.&quot; prepended to it. Hence the boot time
parameter corresponding to <font color="#006c3b"><b>add_host</b></font><b>=2</b>
is <b>scsi_debug.</b><font color="#006c3b"><b>add_host</b></font><b>=2</b>
. 
</p>
<p>When the scsi_debug module is loaded, many parameters can be given
on the command line, separated by spaces: for example to simulate 140
disks &quot;<tt class="western">modprobe scsi_debug </tt><tt class="western"><font color="#006c3b">max_luns</font></tt><tt class="western">=2
</tt><tt class="western"><font color="#006c3b">num_tgts</font></tt><tt class="western">=7
</tt><tt class="western"><font color="#006c3b">add_host</font></tt><tt class="western">=10</tt>&quot;
could be used. This will generate 140 devices: 10 hosts, each with 7
targets, each with 2 logical units.</p>
<p>Sysfs parameters can be read with the <font face="monospace">cat</font>
command and written with the <font face="monospace">echo</font>
command. Sysfs expects a driver to be associated with a bus (e.g.
PCI) so the &quot;pseudo&quot; bus was created for drivers like
scsi_debug. An example:</p>
<pre class="western"><tt class="western"># cd /sys/bus/pseudo/drivers/scsi_debug</tt>
<tt class="western"># cat </tt><tt class="western"><font color="#006c3b">dev_size_mb</font></tt>
<tt class="western">8</tt>
<tt class="western"># echo 2 &gt; </tt><tt class="western"><font color="#006c3b">max_luns</font></tt>
<tt class="western"># echo 1 &gt; </tt><tt class="western"><font color="#006c3b">add_host</font></tt></pre><p>
Parameters appearing on the kernel boot line or given when the driver
is loaded as a module may be either in decimal or hexadecimal (hex).
Hex values are indicated by a '0x' prefix. Parameters changed via
sysfs can only be done via decimal values unless otherwise noted.</p>
<p>In the <tt class="western">/sys/module/scsi_debug/parameters</tt>
directory the parameters used when the scsi_debug module was started
(or their default values) are listed. Even though some of those
parameters are have writable permissions, writing to them has no
effect on the driver. Note that some parameters appear in this
directory but not in the <tt class="western">/sys/bus/pseudo/drivers/scsi_debug</tt>
directory. If the <b>sysfs access</b> cell for a parameter in the
following table is blank then it doesn't appear in the
<tt class="western">/sys/bus/pseudo/drivers/scsi_debug</tt> directory
but does appear in the <tt class="western">/sys/module/scsi_debug/parameters</tt>
directory.</p>
<p>Here is a list of scsi_debug driver parameters:</p>
<table width="1266" cellpadding="2" cellspacing="0">
	<col width="139"/>

	<col width="86"/>

	<col width="72"/>

	<col width="128"/>

	<col width="68"/>

	<col width="747"/>

	<tr>
		<td width="139" valign="top" style="border: 1px double #808080; padding: 0.05cm"><p>
			<b>Parameter name</b></p>
		</td>
		<td width="86" valign="top" style="border: 1px double #808080; padding: 0.05cm"><p>
			<b>default value</b></p>
		</td>
		<td width="72" valign="top" style="border: 1px double #808080; padding: 0.05cm"><p>
			<b>sysfs access<br/>
<br/>
<font color="#bf0041">H</font><font color="#000000">ex
			accepted</font></b></p>
		</td>
		<td width="128" valign="top" style="border: 1px double #808080; padding: 0.05cm"><p>
			<b>sysfs write effect:</b></p>
		</td>
		<td width="68" style="border: 1px double #808080; padding: 0.05cm"><p>
			<b>new in version or year:</b></p>
		</td>
		<td width="747" valign="top" style="border: 1px double #808080; padding: 0.05cm"><p>
			<b>Notes:</b></p>
		</td>
	</tr>
	<tr>
		<td width="139" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">add_host</font></p>
		</td>
		<td width="86" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1</p>
		</td>
		<td width="72" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read-write</p>
		</td>
		<td width="128" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			immediate</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="747" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			can add or remove hosts at runtime</p>
		</td>
	</tr>
	<tr>
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">ato</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read only</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			-</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.81</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			application tag ownership (0 -&gt; disk, 1 -&gt; host)</p>
		</td>
	</tr>
	<tr>
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">bind</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			write only</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			Linux</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			takes a h:c:t:l tuple where &quot;h&quot; is the host number, &quot;c&quot;
			is the channel number, &quot;t&quot; is the target number and &quot;l&quot;
			is the LUN. Can be used together <font color="#006c3b">unbind</font>
			option. Is <i><u>not</u></i> a driver parameter and is only found
			in the <tt class="western">/sys/bus/pseudo/drivers/scsi_debug</tt>
			directory.</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">cdb_len</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			10</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read-write</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			next command</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0187</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			6, 10, 12, 16&nbsp; and 32 accepted, other numbers treated same as
			10. Size of READs, WRITEs and MODE SENSEs generated by the sd
			driver for the block layer. When 32 is given, it is treated as if
			16 was given.</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">clustering</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.84</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			enable large transfers</p>
		</td>
	</tr>
	<tr>
		<td width="139" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">delay</font></p>
		</td>
		<td width="86" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1</p>
		</td>
		<td width="72" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read-write</p>
		</td>
		<td width="128" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			next command</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="747" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			IO command response delay: units are jiffies (configurable: 1 to
			10 ms) . 0: no delay, all in one thread; -1: use a workqueue (no
			delay other than workqueue overhead) to complete each request.</p>
		</td>
	</tr>
	<tr>
		<td width="139" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">dev_size_mb</font></p>
		</td>
		<td width="86" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			8 [zbc: 128]</p>
		</td>
		<td width="72" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read only</p>
		</td>
		<td width="128" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="747" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			units are Mebibytes (2**20 bytes). When <font color="#006c3b">zbc</font>=managed,
			zbc=aware or <font color="#006c3b">ptype</font>=0x14 is given at
			module or driver load time then the default size is 128 MiB.</p>
		</td>
	</tr>
	<tr>
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">dif</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read-only</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.81</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			data integrity field type [T10: protection type]</p>
		</td>
	</tr>
	<tr>
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">dix</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read-only</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.81</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			data integrity extension mask; check integrity when non zero</p>
		</td>
	</tr>
	<tr>
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">dsense</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read-write</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			immediate</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.81</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0 -&gt; fixed; 1-&gt; descriptor sense format</p>
		</td>
	</tr>
	<tr>
		<td width="139" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">every_nth</font></p>
		</td>
		<td width="86" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			Read-write<br/>
<font color="#bf0041">H</font></p>
		</td>
		<td width="128" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			n commands from now</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="747" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			for error injection: 0 -&gt; don't do error injection. When non
			zero (it can be negative) <font color="#006c3b">statistics</font>
			parameter will be set to 1 if it isn't already.</p>
		</td>
	</tr>
	<tr>
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">fake_rw</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read-write</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			next command</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.80</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			when set does no processing when a READ or WRITE command (of any
			cdb size) is received. When <font color="#006c3b">fake_rw</font>=1
			no ram is allocated.</p>
		</td>
	</tr>
	<tr>
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">guard</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read-only</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.81</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			protection checksum: 0 -&gt; crc; 1 -&gt; ip</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">host_lock</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read-write</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			next command</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.84, 1.88</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			when set wraps each submitted command a host_lock which is
			detrimental in a multi-queue system. From version 1.88 this
			parameter is ignored.</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">host_max_queue</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read-only</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.89</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			when &gt;0 enables the host-wide tag feature whereby each
			submitted command on a host has a unique tag taken from
			[0...<font color="#006c3b">max_queue</font>). When &gt;0 the
			<font color="#006c3b">max_queue</font> parameter is changed to be
			equal to this parameter.</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">inq_product</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			&quot;scsi_debug&quot;</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0187</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			user can set in module start parameters, 16 bytes long, pad spaces
			to the right to comply with SPC requirements.</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">inq_rev</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			driver_ver</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0187</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			For example: &quot;0187&quot;. Dropped decimal point and added
			leading &quot;0&quot; in this version. User can set in module
			start parameters, 4 bytes long</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">inq_vendor</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			&quot;Linux&quot;</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0187</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			user can set in module start parameters, 8 bytes long, pad spaces
			to the right to comply with SPC requirements.</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">lowest_aligned</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.81</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			RCAP_16's lowest aligned logical block address (max: 0x3fff)</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">lbprz</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			2012</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			LB provisioning: returns 0s when reading unmapped block</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">lbpu</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			2012</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			LB provisioning: support UNMAP</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">lbpws</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			2012</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			LB provisioning: support WRITE SAME(16) and UNMAP</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">lbpws10</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			2012</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			LB provisioning: support WRITE SAME(10)</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">lun_format</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read-write</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			next positive <font color="#006c3b">add_host</font> or scan</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.90</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			when <font color="#006c3b">max_luns</font> is 256 or less, by
			default this driver generates LUNs with &quot;peripheral device
			addressing format&quot; (address_method=0, bus_identifier=0). When
			<font color="#006c3b">lun_format</font> is 1 this driver will
			generate &quot;flat space&quot; LUNs (address_method=1) instead.
			When <font color="#006c3b">max_luns</font> is more than 256 (and
			less than or equal to 16,384) this driver will generate &quot;flat
			space&quot; LUNs irrespective of the <font color="#006c3b">lun_format</font>
			setting. As long as <font color="#006c3b">no_lun_0</font> is not
			set to 1, LUN 0 is always generated as address_method=0,
			bus_identifier=0, lun=0 which is a LUN made of 8 zero bytes.</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">map</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read-only</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			when logical block provisioning is active, it shows the internal
			provisioning map. Otherwise it shows '0-&lt;sdebug_store_sectors&gt;'.</p>
		</td>
	</tr>
	<tr>
		<td width="139" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">max_luns</font></p>
		</td>
		<td width="86" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1</p>
		</td>
		<td width="72" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read-write</p>
		</td>
		<td width="128" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			next positive <font color="#006c3b">add_host</font> or scan</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="747" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			generates a sequence of LUNs: either 0 ... (<font color="#006c3b">max_luns</font>-1)
			or 1 ... (<font color="#006c3b">max_luns</font>-1); the second
			sequence is generated if <font color="#006c3b">no_lun_0</font> is
			set. In version 1.89 the largest supported <font color="#006c3b">max_luns</font>
			increased from 256 to 16,384. Uses LUN peripheral device
			addressing format (address_method=0, bus_identifier=0) if <font color="#006c3b">max_luns</font>
			is 256 or less, unless <font color="#006c3b">lun_format</font> is
			set to 1. Uses LUN flat space addressing if <font color="#006c3b">lun_format</font>
			is set to 1 or <font color="#006c3b">max_luns</font> is more than
			256. If <font color="#006c3b">no_lun_0</font> is not set, then LUN
			0 is made of 8 zero bytes, irrespective of the addressing method.</p>
		</td>
	</tr>
	<tr>
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">max_queue</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			192</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read-write</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			next command</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.82</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			number of commands driver can queue before telling mid-level it is
			full. Safe to change when commands already queued. Note: if
			<font color="#006c3b">host_max_queue</font> is non-zero, it
			overrides the value of this parameter and any attempts to write to
			this parameter are ignored.</p>
		</td>
	</tr>
	<tr>
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">medium_error_count</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			10</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0188</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			only active when bit 1 (0x2) of the <font color="#006c3b">opts</font>
			parameter is set</p>
		</td>
	</tr>
	<tr>
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">medium_error_start</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0x1234</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0188</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			only active when bit 1 (0x2) of the <font color="#006c3b">opts</font>
			parameter is set</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">ndelay</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read-write</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			next command</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.84</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			IO command response delay: units are nanoseconds. If &gt; 0 then
			the <font color="#006c3b">delay</font> parameter will be ignored
			(it appears as -9999)</p>
		</td>
	</tr>
	<tr>
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">no_lun_0</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read-write</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			next positive <font color="#006c3b">add_host</font> or scan</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.77</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			no lun 0 but responds to INQUIRY and REPORT LUNS as per SPC-2</p>
		</td>
	</tr>
	<tr>
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">no_rwlock</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read only</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.90</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			by default each store has a read-write lock so that reads to that
			store can overlap in time but all writes are exclusive in the
			sense that no other read or write to that store can happen at that
			time. The granularity of this lock is very broad, arguably too
			broad. Properly written multi-threaded copy programs should not
			need this lock as no two writes should conflict on the same block
			within the store. So this option will not use the per-store
			read-write lock to protect each store access.</p>
		</td>
	</tr>
	<tr>
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">no_uld</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read only</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.82</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			device (LUs) created by this driver will only attach to sg and bsg
			devices. So depending one their <font color="#006c3b">ptype</font>
			(peripheral device type) there will be no corresponding /dev/sd*,
			/dev/sr*, /dev/st* or /dev/ses* device nodes. There will be
			/dev/sg* and /dev/bsg/&lt;h:c:t:l&gt; device nodes.</p>
		</td>
	</tr>
	<tr>
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">num_parts</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read only</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			number of (MSDOS) partitions to configure on each store. If there
			is only one store then all LUs share the same partition table.</p>
		</td>
	</tr>
	<tr>
		<td width="139" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">num_tgts</font></p>
		</td>
		<td width="86" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1</p>
		</td>
		<td width="72" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read-write</p>
		</td>
		<td width="128" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			next positive <font color="#006c3b">add_host</font> or scan</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="747" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			targets per host</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">opt_blks</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			64</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.84</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			'Optimal transfer length' field in Block Limits VPD page</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">opt_xferlen_exp</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">physblk_exp</font></p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.84</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			Controls 'Optimal transfer length granularity' field in Block
			Limits VPD page</p>
		</td>
	</tr>
	<tr>
		<td width="139" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">opts</font></p>
		</td>
		<td width="86" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p style="margin-bottom: 0.1cm">
			read-write</p>
			<p><font color="#bf0041">H</font></p>
		</td>
		<td width="128" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			usually following commands</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="747" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0 -&gt; quiet and no error injection<br/>
(mask 16 to inject
			aborted_command new in 1.81)</p>
		</td>
	</tr>
	<tr>
		<td width="139" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">per_host_store</font></p>
		</td>
		<td width="86" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read-write</p>
		</td>
		<td width="128" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			next positive <font color="#006c3b">add_host</font></p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.89</p>
		</td>
		<td width="747" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0 -&gt; a following <font color="#006c3b">add_host</font> (or
			during module/driver invocation) will create one or more new hosts
			whose LUs will share the same storage as the previously added
			host. 1 -&gt; a following <font color="#006c3b">add_host</font>
			will create one or more new hosts whose LUs will share the same
			storage but with each new host having a new store. Note that each
			scsi_debug device (LU) has its own metadata (e.g. start/stop state
			and Unit Attention state).</p>
		</td>
	</tr>
	<tr>
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">physblk_exp</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.81</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			2**<font color="#006c3b">physblk_exp</font> sets READ
			CAPACITY(16)'s logical blocks per physical block exponent field</p>
		</td>
	</tr>
	<tr>
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">poll_queues</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.90</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			this is the number of io_uring iopoll queues. Should be less than
			<font color="#006c3b">submit_queues</font>. If it is <i>not</i>
			less than <font color="#006c3b">submit_queues</font> then change
			to 1 (unless <font color="#006c3b">submit_queues</font> is 1 in
			which case <font color="#006c3b">poll_queues</font> is changed to
			0). The reason why it must be less is that there needs to be at
			least one submit_queue available for <i>non</i>-iopoll requests.</p>
		</td>
	</tr>
	<tr>
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">ptype</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read-write</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			next positive <font color="#006c3b">add_host</font> or scan</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			peripheral device type (0 --&gt; disk)</p>
		</td>
	</tr>
	<tr>
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">random</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read-write</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.89</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			when 0 (the default) delays the response of media access SCSI
			commands as precisely as possible to the duration indicated by the
			<font color="#006c3b">delay</font> and <font color="#006c3b">ndelay</font>
			parameters. When 1 it chooses a delay from a uniform distribution
			from no delay (0) to the duration indicated by the <font color="#006c3b">delay</font>
			and <font color="#006c3b">ndelay</font> parameters. When multiple
			threads are issuing commands <font color="#006c3b">random</font>=1
			can be used to simulate out-of-order responses.</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">removable</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read-write</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			When non-zero sets the RMB bit in the INQUIRY response indicating
			the device is removable</p>
		</td>
	</tr>
	<tr>
		<td width="139" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">scsi_level</font></p>
		</td>
		<td width="86" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			7</p>
		</td>
		<td width="72" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read only</p>
		</td>
		<td width="128" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="747" valign="top" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			from: 0 (no compliance), 1, 2 (SCSI-2), 3 (SPC), 4 (SPC-2), 5
			(SPC-3), 6 (SPC-4), 7 (SPC-5)</p>
		</td>
	</tr>
	<tr>
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">sector_size</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			512</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read only</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.81</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			logical block size in bytes. 512, 1024, 2048 and 4096 accepted</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">statistics</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read-write</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			next command</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.86</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			collect statistics that are output by 'cat
			/proc/scsi/scsi_debug/&lt;host_num&gt;'. Needs kernel built with
			CONFIG_SCSI_PROC_FS selected. Due to sysfs policy this is not
			superseded by sysfs. [Don't believe everything you read in kernel
			config menus.]</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">strict</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read-write</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			next command</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.85</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			check for bits set in the reserved part of SCSI command blocks. If
			found report with the position of the first offending bit.</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">submit_queues</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read-only</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0187</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			multi-queue setting from 1 (i.e. non-mq) to &lt;= number of
			processors on the machine</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">tur_ms_to_ready</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read-only</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.90</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			this is the number of milliseconds after a scsi_debug device is
			created that TUR (and other media access commands) will return a
			NOT READY sense key with the additional sense of &quot;LU in
			process of becoming ready&quot;. Further, in the case of TUR, an
			estimate of the number of milliseconds before a subsequent TUR
			will first return GOOD status is placed in the sense data INFO
			field (see: T10 accepted proposal 20-061r2).</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">uevent</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			write-only</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			Linux</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			See <font color="#006c3b">bind</font> option restrictions</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">unbind</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			write-only</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			Linux</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			opposite action of <font color="#006c3b">bind</font> option, see
			its description.</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">unmap_alignment</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.81</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			Block limits VPD page's unmap granularity alignment</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">unmap_granularity</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.81</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			Block limits VPD page's optimal unmap granularity</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">unmap_max_blocks</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0xffffffff</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.81</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			Block limits VPD page's maximum unmap LBA count</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">unmap_max_desc</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			255</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.81</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			Block limits VPD page's maximum unmap block descriptor count</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">uuid_ctl</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read only</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.86</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			if 1 then each LU name is an internally generated UUID; if 2 then
			all LUs shared the same UUID and if 0 then the LU name is a
			locally assigned NAA</p>
		</td>
	</tr>
	<tr>
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">virtual_gb</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read-write</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			immediate, next READ CAPACITY</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.79</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			When 0 then each device is (the same) <font color="#006c3b">dev_size_mb</font>
			sized ram disk. When n &gt; 0, &quot;virtual&quot; n Gibibyte size
			disk, wrapping on <font color="#006c3b">dev_size_mb</font> actual
			ram. The Gibibyte unit is 2**30 bytes</p>
		</td>
	</tr>
	<tr>
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">vpd_use_hostno</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read-write</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			next positive <font color="#006c3b">add_host</font> or scan</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.80</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			the driver generates serial numbers and SAS naa-5 addresses based
			on host number (&quot;hostno&quot;), target id and lun. When set
			to 0, the generated numbers ignore &quot;hostno&quot;.</p>
		</td>
	</tr>
	<tr>
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">wp</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.89</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			This parameter is for Write Protection. When 0 (the default) store
			modifying data access commands are permitted. When 1
			store-modifying data access commands are not allowed (e.g. WRITE).</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">write_same_length</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0xffff</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			2012</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			maximum blocks per WRITE SAME command</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">zbc</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			0 ['none']</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			read-only</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.89</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			The default is 0 or the string 'none'. To specify host-aware
			scsi_debug devices use 1 or 'host-aware'. To specify host-managed
			scsi_debug devices use 2 or 'host-managed' which will set the
			<font color="#006c3b">ptype</font> (i.e. the Peripheral Device
			Type (pdt)) to 0x14. The three strings can be shortened to 'no',
			'aware' and 'managed'. After the scsi_debug module is loaded with
			'<font color="#006c3b">zbc</font>=managed' say, using sysfs to
			change the <font color="#006c3b">ptype</font> parameter to 0 will
			turn all scsi_debug devices into normal disk simulations.</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">zone_max_open</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			8</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.89</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			this is a limit on the number of co-incident OPEN ZONE commands
			that are allowed on a scsi_debug ZBC device. This can only be set
			at module/driver load time and is not visible in sysfs. The
			resultant value (which maybe changed due to other zone_*
			parameters) can be seen in the Zoned Block Device Characteristics
			VPD page [0xb6].</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">zone_nr_conv</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.89</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			this is the number of conventional zones that will be configured
			on each scsi_debug ZBC device. This can only be set at
			module/driver load time and is not visible in sysfs. Conventional
			zones comply SBC (i.e. &quot;normal&quot; disks) rather than ZBC
			models. Conventional zones typically appear first (i.e. the lowest
			LBAs) prior to any &quot;<i>sequential write required</i>' or
			&quot;<i>sequential write preferred</i>&quot; zones.</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="139" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<font color="#006c3b">zone_size_mb</font></p>
		</td>
		<td width="86" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			128</p>
		</td>
		<td width="72" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="128" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			<br/>

			</p>
		</td>
		<td width="68" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			1.89</p>
		</td>
		<td width="747" style="border-top: none; border-bottom: 1px double #808080; border-left: 1px double #808080; border-right: 1px double #808080; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm"><p>
			this is the maximum size (in Mebibytes) of each zone that is
			allowed on a scsi_debug ZBC device. This can only be set at
			module/driver load time and is not visible in sysfs. If this
			parameter is not given (when <font color="#006c3b">zbc</font>=host-managed)
			then a zone size of 128 MB is assumed.</p>
		</td>
	</tr>
</table>
<p><br/>
<br/>
<br/>
The <font color="#006c3b"><b>add_host</b></font>
parameter is the number of hosts (HBAs) to simulate. The default is
1. For boot time and module loads the allowable values are 0 through
to a large positive number. For sysfs writes, a value of 0 does
nothing while a positive number adds that many hosts and a negative
number removes that number of hosts. A sysfs read of this parameter
shows the current number of hosts scsi_debug is simulating. No more
than <font color="#006c3b"><b>num_tgts</b></font> target ids will be
used per host. Target ids are in ascending order from 0 excluding the
target id that is used by the initiator (i.e. HBA) if any. The
default setting of <font color="#006c3b"><b>num_tgts</b></font> is 1.
The default setting for <font color="#006c3b"><b>max_luns</b></font>
is 1. So the number of pseudo disks simulated at driver
initialization time is (<font color="#006c3b"><b>add_host</b></font>
* <font color="#006c3b"><b>num_tgts</b></font> * <font color="#006c3b"><b>max_luns</b></font>).&nbsp;
Note that if any of these three parameters is set to zero at kernel
boot time or module load time then no devices are created. Modifying
the <span style="font-variant: normal"><font color="#006c3b"><span style="font-style: normal"><b>add_host</b></span></font></span>
parameter in&nbsp; sysfs can be used to simulate hot plugging and
unplugging of hosts. See below for adding and deleting individual
scsi devices<br/>
<br/>
The <font color="#006c3b"><b>ato</b></font>
parameter sets the field of the same name in the control mode page.
The default value is 1 which implies the host is the application tag
owner. A value of 0 implies the device server (e.g. the (pseudo)
disk) is the application tag owner.<br/>
<br/>
The <font color="#006c3b"><b>cdb_len</b></font>
parameter controls the SCSI cdb lengths generated by the sd driver
typically when it receives requests from the block layer. There are 3
bool internal variables: use_10_for_rw, use_16_for_rw and
use_10_for_ms. &quot;ms&quot; is MODE SENSE/SELECT whose cdb can be 6
or 10 bytes long. If both use_10_for_rw and use_16_for_rw are false
then READ(6) or WRITE(6) is used if the LBA and the number_of_blocks
are not too large. This parameter can have these settings:</p>
<ul>
	<li><p style="margin-bottom: 0cm">6: use_10_for_rw=false,
	use_16_for_rw=false, use_10_for_ms=false: try to use READ(6),
	WRITE(6) and MODE SENSE(6) 
	</p>
	<li><p style="margin-bottom: 0cm">10: use_10_for_rw=true,
	use_16_for_rw=false, use_10_for_ms=false: try to use READ(10),
	WRITE(10) and MODE SENSE(6) 
	</p>
	<li><p style="margin-bottom: 0cm">12: use_10_for_rw=true,
	use_16_for_rw=false, use_10_for_ms=true: try to use READ(10),
	WRITE(10) and MODE SENSE(10) 
	</p>
	<li><p style="margin-bottom: 0cm">16: use_10_for_rw=false,
	use_16_for_rw=true, use_10_for_ms=true: try to use READ(16),
	WRITE(16) and MODE SENSE(10) 
	</p>
	<li><p>others: mapped to 10</p>
</ul>
<p>Note that this parameter has no control over the sd driver's use
of READ(32) and WRITE(32) commands which are generated for some
settings of Protection Information (PI).<br/>
<br/>
The <font color="#006c3b"><b>clustering</b></font>
parameter informs the SCSI mid layer whether (1) or not (0)
clustering is enabled. The default is that is not (0) enabled.
Setting this parameter facilitates large transfers of data with a
single command.</p>
<p>The <font color="#006c3b"><b>delay</b></font> parameter is the
number of jiffies by which the driver will delay responses. The
default is 1 jiffy unless the <font color="#006c3b">ndelay</font>
parameter is given, see its description. Setting this parameter to 0
will cause the response to be sent back to the mid level before the
request function is completed. The &quot;jiffy&quot; is a kernel
space jiffy (typically the largest HZ figure yields a 1 millisecond
on i386) rather than a user space jiffy (USER_HZ is typically 10
milliseconds on i386). HZ and USER_HZ are configurable in the kernel
build. Both delayed and immediate responses are permitted however
delayed responses are more realistic. For delayed responses, a kernel
timer is used. [Real adapters would generate an interrupt when the
response was ready (i.e. the command had completed).] For a fast ram
disk set the <font color="#006c3b"><b>delay</b></font> parameter to
0. These SCSI commands ignore the <font color="#006c3b"><b>delay</b></font>
parameter and respond immediately: INQUIRY, REPORT LUNS, REQUEST
SENSE, SYNCHRONIZE CACHE plus various other non &quot;media access&quot;
commands. TEST UNIT READY is considered a media access command.</p>
<p>The <font color="#006c3b"><b>delay</b></font> parameter may be set
to -1 a kernel workqueue is used to generate a more or less immediate
response (but in a different kernel thread). Trying to write a new
value to <font color="#006c3b"><b>delay</b></font> while there are
queued command responses may result in an EBUSY error.</p>
<p>The <font color="#006c3b"><b>dev_size_mb</b></font> parameter
allows the user to specify the size of the simulated storage. The
unit is Mebibytes (each 2**20 bytes and a bit larger than a Megabyte)
and the default value is 8. The maximum value depends on the
capabilities of the vmalloc() call on the target architecture. If the
module fails to load with a &quot;cannot allocate memory&quot;
message then a &quot;vmalloc=nn{KMG}&quot; boot time argument may be
needed. [See the kernel source file:
<font face="monospace">Documentation/kernel-parameters.txt</font> for
more information on this.] The RAM reserved for storage is
initialized to zeros which leads the sd (scsi disk) driver and the
block layer to believe there is no partition table present.
Partitions can be simulated with <font color="#006c3b"><b>num_parts</b></font>
(see below). All simulated dummy devices share the same RAM. If a
value of 0 or less is given then <font color="#006c3b"><b>dev_size_mb</b></font>
is forced to 1 so 1 MB of RAM is used. Given 512 byte logical blocks,
the largest ramdisk that can be allocated is 2 TB but it is unlikely
a system would be able to allocate that much ram (a situation that
would be bypassed if <font color="#006c3b"><b>fake_rw</b></font>=1).
Very large amounts of &quot;virtual&quot; storage can be simulated
with the <font color="#006c3b"><b>virtual_gb</b></font> parameter
(see below).</p>
<p>The <font color="#006c3b"><b>dif</b></font> parameter sets the T10
protection type which is a value between 0 and 3 where 0 (the
default) is no protection. Protection information is extra bytes of
data (typically 8) associated with blocks of data transferred between
a SCSI initiator and a SCSI block logical unit (as defined in T10 SBC
standards). T10 protection information is often called the &quot;data
integrity field&quot; hence the name DIF. For information about DIF
and DIX see
<a href="https://oss.oracle.com/projects/data-integrity/documentation/">https://oss.oracle.com/projects/data-integrity/documentation/</a>
.</p>
<p>The <font color="#006c3b"><b>dix</b></font> parameter when set
causes protection information to be carried between the operating
system and the SCSI initiator. DIX is an abbreviation of &quot;data
integrity eXtension&quot; and can be viewed as a front end to DIF.
When its value is zero (the default) then no protection information
is carried within the operating system. When the <font color="#006c3b"><b>dix</b></font>
parameter is a non zero value then the the dix type will be the same
as the <font color="#006c3b">dif</font> parameter. So if <font color="#006c3b">dif</font>=2
and <font color="#006c3b">dix</font>=1 then both DIF and DIX are set
to type 2 protection. Note that if <font color="#006c3b">dif</font>=0
it doesn't matter what the <font color="#006c3b">dix</font> parameter
is, both DIF and DIX are set to type 0 protection (which is no
protection). 
</p>
<p>The <font color="#006c3b"><b>every_nth</b></font> parameter takes
a decimal number as an argument. When this number is greater than
zero, then incoming commands are counted and when &lt;n&gt; is
reached then the associated command generates some sort of error.
Currently the available errors are timeout (when &quot;<font color="#006c3b"><b>opts</b></font>
&amp; 4&quot; is true) and RECOVERED_ERROR (when &quot;<font color="#006c3b"><b>opts</b></font>
&amp; 8&quot; is true) . Once the command count reaches &lt;n&gt;
then it is reset to zero. For example setting <font color="#006c3b"><b>every_nth</b></font>
to 3 and <font color="#006c3b"><b>opts</b></font> to 4 will cause
every third command to be ignored (and hence a timeout). If <font color="#006c3b"><b>every_nth</b></font>
is not given it is defaulted to 0 and timeouts and recovered errors
will not be generated. Note that for the &quot;every nth&quot;
mechanism to work the <font color="#006c3b"><b>statistics</b></font>
parameter needs to be set.</p>
<p>If <font color="#006c3b"><b>every_nth</b></font> is negative then
an internal command counter counts down to that value and when it is
reached, continually generates the error condition (specified in
<font color="#006c3b"><b>opts</b></font>) on each newly received
command. The driver flags this continual error state by setting
<font color="#006c3b"><b>every_nth</b></font> to -1 . The user can
stop error conditions being generated on receipt of every subsequent
command by writing 0 to <font color="#006c3b"><b>every_nth</b></font>
(or <font color="#006c3b"><b>opts</b></font> ). From version 1.90 a
hexadecimal number (prefixed by '0x') may be given for this parameter
at runtime.</p>
<p>The <font color="#006c3b"><b>fake_rw</b></font> parameter
instructs the scsi_debug driver to ignore all READ and WRITE commands
and return a GOOD status. This means the data &quot;read&quot; when
<font color="#006c3b"><b>fake_rw</b></font> is set is whatever was
previously in the scatter gather list. The default value is 0 (i.e.
process READ and WRITE commands). This parameter is for testing and
when set can confuse the kernel or utilities that look for partitions
and other information on a &quot;disk&quot;.</p>
<p>The <font color="#006c3b"><b>guard</b></font> parameter when set
to zero (the default) use T10 defined CRC in the protection
information. When set to one the IP (internet protocol) checksum (as
used by iSCSI ?) is used.</p>
<p>The <font color="#006c3b"><b>host_lock</b></font> parameter
indicates whether each command (excluding its response delay and
associated callback into the mid-layer) is surrounded by a per host
host_lock (which is a kernel &quot;spin lock&quot;). In a SCSI
multi-queue system the presence of this host lock will have the
effect of serializing all commands form a host; and that is
detrimental to system performance. Prior to version 1.84 this
parameter was not available and the host_lock surround all commands.
In version 1.84 and later the default is 0 which means the host_lock
is not applied. Set <font color="#006c3b">host_lock</font>=1 for the
old behaviour. In version 1.88 this functionality (i.e. the
host_lock) was removed and setting this parameter has no effect. It
is kept so that scripts that call it will not break.</p>
<p>The <font color="#006c3b"><b>inq_product</b></font> parameter is
the 16 byte ASCII string (left justified, space characters to the
right) that get reported by this driver's standard INQUIRY response.
The default is &quot;scsi_debug&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;.</p>
<p>The <font color="#006c3b"><b>inq_rev</b></font> parameter is the 4
byte ASCII string (left justified, space characters to the right)
that get reported by this driver's standard INQUIRY response. The
driver version number (was &quot;1.86&quot;) has been reformatted to
be suitable for this field. The default value is now &quot;0187&quot;
and will increase as changes are added to this driver.</p>
<p>The <font color="#006c3b"><b>inq_vendor</b></font> parameter is
the 8 byte ASCII string (left justified, space characters to the
right) that get reported by this driver's standard INQUIRY response.
The driver is &quot;Linux&nbsp;&nbsp; &quot;.</p>
<p>The <font color="#006c3b"><b>lbpu</b></font> parameter, if set,
causes the logical block partitioning VPD page to set the field of
the same name. The default is to set the LBPU field to 0. When set
this field indicates the UNMAP command is supported.</p>
<p>The <font color="#006c3b"><b>lbpws</b></font> and <font color="#006c3b"><b>lbpws10</b></font>
parameters cause the corresponding bits in the logical block
partitioning VPD page to be set. The imply the the UNMAP field within
the WRITE SAME(16) and WRITE_SAME(10) respectively are supported. 
</p>
<p>The <font color="#006c3b"><b>lbprz</b></font> parameter, if set,
causes the logical block partitioning VPD page to set the field of
the same name. When this field is set reading unmapped logical blocks
will yield block(s) of data full of xeros to be returned. 
</p>
<p>The <font color="#006c3b"><b>lowest_aligned</b></font> parameter
sets the field called LOWEST ALIGNED LOGICAL BLOCK ADDRESS in the
READ CAPACITY (16) command response.<br/>
The default is zero which
implies the logical block size and the physical block size are the
same.</p>
<p>The <font color="#006c3b"><b>max_luns</b></font> parameter allows
an upper limit to be placed on the logical unit number (lun) that the
scsi_debug driver will respond to. A value of 2 means that this
driver will respond to logical unit numbers 0 and 1. If <font color="#006c3b"><b>max_luns</b></font>
is modified by a sysfs write then the scsi_debug driver modifies the
<font face="monospace">scsi_host::max_lun</font> member of all hosts
that it owns. When <font color="#006c3b"><b>max_luns</b></font> is
modified by a sysfs write then it will take effect the next time a
host is added (see <font color="#006c3b"><b>add_host</b></font>) or
when a scan is done on any existing host. The mid level scanning code
will scan for up to but not including <b>max_scsi_luns</b> which is a
SCSI mid level boot and module load time parameter.</p>
<p>The <font color="#006c3b"><b>max_queue</b></font> parameter
indicates the maximum number of queued responses the driver can
handle. This defaults to an internal define in the scsi_debug driver
called SCSI_DEBUG_CANQUEUE which is currently 192 (on 64 bit
machines, 96 or 32 bit machines). If both the <font color="#006c3b"><b>delay</b></font>
and <font color="#006c3b"><b>ndelay</b></font> parameters are 0, no
commands have queued responses. If there is an attempt to exceed this
value then either SCSI_MLQUEUE_HOST_BUSY is returned to the mid-layer
(the default) or a status of TASK_SET_FULL (if the 0x200 <font color="#006c3b">opts</font>
mask is set). Sysfs can be used at any time to change the value of
<font color="#006c3b"><b>max_queue</b></font>, even when the are
queued command responses.</p>
<p>The <font color="#006c3b"><b>medium_error_count</b></font>
parameter indicates the number of blocks, including the
<font color="#006c3b"><b>medium_error_start</b></font> LBA, on which
to yield a SCSI MEDIUM ERROR sense key. This only occurs when the
<font color="#006c3b"><b>opts</b></font> parameter has its bit 1
(i.e. 0x2) set. Its default value is 10.</p>
<p>The <font color="#006c3b"><b>medium_error_start</b></font>
parameter indicates the first LBA to yield a SCSI MEDIUM ERROR sense
key. This only occurs when the <font color="#006c3b"><b>opts</b></font>
parameter has its bit 1 (i.e. 0x2) set. Its default value is 0x1234
(4660 in decimal).</p>
<p>The <font color="#006c3b"><b>ndelay</b></font> parameter is the
response delay whose units are nanoseconds. This mechanism depends on
high resolution timers in the kernel which may not be supported on
small or old system (it is a kernel build config option). Its default
value is 0 which means the <font color="#006c3b"><b>delay</b></font>
parameter is operative. If <font color="#006c3b">ndelay</font> is a
positive value then a response delay for that many nanoseconds is
active (and to indicate the <font color="#006c3b">delay</font>
parameter is overridden, it is set to -9999). Depending on the
hardware, setting <font color="#006c3b"><b>ndelay</b></font> to less
than a few microseconds probably causes no further reduction in the
observed response delays. Trying to write a new value to <font color="#006c3b"><b>ndelay</b></font>
while there are queued command responses may result in an EBUSY
error.</p>
<p>The <font color="#006c3b"><b>no_lun_0</b></font> parameter when
set to a non zero value causes a lun 0 INQUIRY response of
peripheral_qualifier==3 indicating there is no actual lu there. As
required by SPC, lun 0 will still respond to the a REPORT LUNS
command. If the REPORT LUNS has a 'select report' code of 1 or 2,
then one of the luns reported will be the REPORT LUNS well known
logical unit (lun 49409 or 0xc101). The default value is 0. If
<font color="#006c3b">max_luns</font> is greater than 1, the the
first lun generated by scsi_debug will be lun 1 (since lun 0 is
skipped). The REPORT LUNS well known logical unit (wlun) only
supports the INQUIRY, REPORT LUNS, REQUEST SENSE and TEST UNIT READY
SCSI commands. To make this wlun appear as a scsi generic (sg) device
see the REPORT LUNS well known LUN example below.</p>
<p>The <font color="#006c3b"><b>num_parts</b></font> parameter writes
a partition table to the ramdisk if the parameter's value is greater
than 0. The default is 0 so in that case the ramdisk is simply all
zeros. When <font color="#006c3b"><b>num_parts</b></font> is greater
than zero a DOS format primary partition block is written to logical
block 0, so the number of partitions is limited to a maximum of 4.
The partitions are given an id of 0x83 which is a &quot;Linux&quot;
partition. The available space on the ramdisk is roughly divided
evenly between partitions when 2 or more partitions are requested.
The partitions are <u>not</u> initialized with any file system. Even
if no partitions are specified, a utility like <b>fdisk</b> can be
used to added them later.<br/>
<br/>
The <font color="#006c3b"><b>num_tgts</b></font>
parameter allows the&nbsp; number of targets per host to be
specified. It should be 0 or greater.&nbsp; Target id numbers start
at 0 and ascend, bypassing the target id of the initiator (i.e. the
HBA). If <font color="#006c3b"><b>num_tgts</b></font> is modified by
a sysfs write then the scsi_debug driver modifies the
<font face="monospace">scsi_host::max_id</font> member of all hosts
that it owns.&nbsp;When <font color="#006c3b"><b>num_tgts</b></font>
is modified by a sysfs write then it will take effect the next time a
host is added (see <font color="#006c3b"><b>add_host</b></font>) or
when a scan is done on any existing host.<br/>
<br/>
The <font color="#006c3b"><b>opt_blks</b></font>
parameter is placed in the &quot;Optimal transfer length&quot; field
of the Block Limits VPD page. Its default value is 64.<br/>
<br/>
The
<font color="#006c3b"><b>opt_xferlen_exp</b></font> parameter (with
help from the <font color="#006c3b"><b>physblk_exp</b></font>
parameter) controls the &quot;Optimal transfer length granularity&quot;
field (OTLG) in the Block Limits VPD page. If 0 (default) or less
than, or equal to, <font color="#006c3b"><b>physblk_exp</b></font>
then the OTLG field is set to 2**<font color="#006c3b">physblk_exp</font>
making <font color="#006c3b">physblk_exp</font> the effective default
value. Otherwise, if this parameter is greater than <font color="#006c3b">physblk_exp</font>
then the OTLG field is set to 2**<font color="#006c3b">opt_xferlen_exp</font>
. 
</p>
<p>The <font color="#006c3b"><b>opts</b></font> parameter takes a&nbsp;
number as an argument which is the bitwise &quot;or&quot; of several
flags. Values can be given either in decimal or hex (prefixed by
'0x'). The flags that mention &quot;nth&quot; are only active when
<font color="#006c3b"><b>every_nth</b></font> != 0 . So-called
&quot;read-write&quot; commands include some others such as VERIFY.
The flags supported are: 
</p>
<ul>
	<li><p style="margin-bottom: 0cm">&nbsp;&nbsp;&nbsp; <font face="Liberation Serif, serif">1&nbsp;
	-&nbsp; &quot;noisy&quot; flag: all calls to entry points of driver
	are logged. Commands to be executed are shown in hex. Additional
	information such as check conditions, command aborts and resets are
	logged</font></p>
	<li><p style="margin-bottom: 0cm">&nbsp;&nbsp;&nbsp; <font face="Liberation Serif, serif">2&nbsp;
	-&nbsp; &quot;medium error&quot; flag: simulates a SCSI MEDIUM ERROR
	when LBA </font><font color="#006c3b"><font face="Liberation Serif, serif"><b>medium_error_start</b></font></font>
	<font face="Liberation Serif, serif">(default: 0x1234 (4660 in
	decimal)) is read. The following </font><font color="#006c3b"><font face="Liberation Serif, serif"><b>medium_error_count</b></font></font>
	<font face="Liberation Serif, serif">blocks (default: 10 blocks)
	less 1 also yield a medium error.</font></p>
	<li><p style="margin-bottom: 0cm">&nbsp;&nbsp;&nbsp; <font face="Liberation Serif, serif">4&nbsp;
	-&nbsp; ignores &quot;nth&quot; command causing a timeout in the
	SCSI mid-level </font>
	</p>
	<li><p style="margin-bottom: 0cm">&nbsp;&nbsp;&nbsp; <font face="Liberation Serif, serif">8&nbsp;
	-&nbsp; causes &quot;nth&quot; READ or WRITE command to yield a
	RECOVERED_ERROR. </font>
	</p>
	<li><p style="margin-bottom: 0cm">&nbsp;&nbsp;&nbsp; <font face="Liberation Serif, serif">0x10
	-&nbsp; causes &quot;nth&quot; command to yield an ABORTED_COMMAND
	(ack/nak timeout) which is a transport error. </font>
	</p>
	<li><p style="margin-bottom: 0cm">&nbsp;&nbsp;&nbsp; <font face="Liberation Serif, serif">0x20
	-&nbsp; causes &quot;nth&quot; READ or WRITE command to yield an
	ABORTED_COMMAND (logical block guard check failed), nominally a DIF
	(Protection Information) error </font>
	</p>
	<li><p style="margin-bottom: 0cm">&nbsp;&nbsp;&nbsp; <font face="Liberation Serif, serif">0x40
	-&nbsp; causes &quot;nth&quot; READ or WRITE command to yield an
	ABORTED_COMMAND (logical block guard check failed), nominally a DIX
	error </font>
	</p>
	<li><p style="margin-bottom: 0cm">&nbsp;&nbsp;&nbsp; <font face="Liberation Serif, serif">0x80
	-&nbsp; ignores &quot;nth&quot; media access command causing a
	timeout </font>
	</p>
	<li><p style="margin-bottom: 0cm">&nbsp;&nbsp;&nbsp; <font face="Liberation Serif, serif">0x100
	- causes &quot;nth&quot; READ command to yield half the data it was
	requested to read </font>
	</p>
	<li><p style="margin-bottom: 0cm">&nbsp;&nbsp;&nbsp; <font face="Liberation Serif, serif">0x200
	- log generation of TASK SET FULL and host busy plus changes to
	queue depth and type </font>
	</p>
	<li><p style="margin-bottom: 0cm">&nbsp;&nbsp;&nbsp; <font face="Liberation Serif, serif">0x400
	- if </font><font color="#006c3b"><font face="Liberation Serif, serif">max_queue</font></font>
	<font face="Liberation Serif, serif">is exceeded yield a TEST SET
	FULL (default: host busy) </font>
	</p>
	<li><p style="margin-bottom: 0cm">&nbsp;&nbsp;&nbsp; <font face="Liberation Serif, serif">0x800
	- causes &quot;nth&quot; command whose queue_depth is at it maximum
	value to yield a status of TASK SET FULL </font>
	</p>
	<li><p style="margin-bottom: 0cm">&nbsp;&nbsp;&nbsp; <font face="Liberation Serif, serif">0x1000
	- set WCE field in the caching page to 0 (default WCE=1) </font>
	</p>
	<li><p style="margin-bottom: 0cm">&nbsp;&nbsp;&nbsp; <font face="Liberation Serif, serif">0x2000
	- log only abort commands and the various levels of reset </font>
	</p>
	<li><p style="margin-bottom: 0cm">&nbsp;&nbsp;&nbsp; <font face="Liberation Serif, serif">0x4000
	- used together with the noisy flag (1) to suppress the logging of
	cdb_s; additional information (if any) is still logged. </font>
	</p>
	<li><p style="line-height: 100%; margin-bottom: 0cm">&nbsp;&nbsp;&nbsp;
	<font face="Liberation Serif, serif">0x8000 - causes &quot;nth&quot;
	command to yield a &quot;host busy&quot; (mid-level sent
	</font><code class="western"><font face="Liberation Serif, serif">SCSI_MLQUEUE_HOST_BUSY).
	Note, if things are working properly, the mid-level will just
	re-submit that command.</font></code></p>
	<li><p style="line-height: 100%; margin-bottom: 0cm"><code class="western">&nbsp;
	</code><code class="western"><font face="Liberation Serif, serif">0x10000
	- causes &quot;nth&quot; command to be aborted (via a call to the
	block layer). This is only active for workqueues (i.e. when
	</font></code><code class="western"><font color="#006c3b"><font face="Liberation Serif, serif"><b>delay</b></font></font></code><code class="western"><font face="Liberation Serif, serif">=-1).</font></code></p>
</ul>
<p><br/>
<br/>

</p>
<p>READ commands in the above list include READ(6), READ(10),
READ(12), READ(16) and READ(32). WRITE commands include WRITE(6),
WRITE(10), WRITE(12), WRITE(16), WRITE(32), WRITE SCATTERED(16) and
WRITE SCATTERED(32). 'Media access' commands are <i>any</i> command
that accesses this driver's data store (e.g. VERIFY(16)). If <i>no</i>
commands are specified in a line of the above list then the error
injection can occur on <i>any</i> command. Where commands are
specified and the &quot;nth&quot; occurs on <i>another</i> command
then a global flag is set and the <i>next</i> time one of the
specified commands is processed then the error is injected (and the
global flag cleared). These injection rules were changed to what is
documented here in version 1.90 of this driver.</p>
<p>The <font color="#006c3b"><b>opts</b></font> &quot;noisy&quot; (or
debug) flag will cause all scsi_debug entry points to be logged in
the system log (and often sent to the console depending on how kernel
informational messages are processed). With this flag set commands
are listed in hex and if they yield a result other than successful
then that is shown. In a busy system this may prove to be too much
log &quot;noise&quot; in which case this combination of flags may be
useful: <font color="#006c3b">opts</font>=0x6201 .<br/>
<br/>
The
<font color="#006c3b"><b>opts</b></font> &quot;medium error&quot;
flag will cause any read command whose LBA start at
<font color="#006c3b"><b>medium_error_start</b></font> (default:
0x1234 (4660 in decimal)) for <font color="#006c3b"><b>medium_error_count</b></font>
blocks to return a medium error indication to the mid level. The
&quot;ignore nth&quot; flag is only active when <font color="#006c3b"><b>every_nth</b></font>
!= 0 . When an internal command counter reaches the value in
<font color="#006c3b"><b>every_nth</b></font> and the &quot;ignore
nth&quot; flag is set, then this command is ignored (i.e. quietly not
processed). Typically this will cause the SCSI mid level code to
timeout the command which leads to further error processing. The
internal command counter is reset to zero whenever <font color="#006c3b"><b>opts</b></font>
is written to, whenever <font color="#006c3b"><b>every_nth</b></font>
is written to, when the <font color="#006c3b"><b>every_nth</b></font>
value is reached and at driver load time. The &quot;recovered error&quot;
flag &nbsp;works in a similar fashion to the &quot;ignore nth&quot;
flag, however when the <font color="#006c3b"><b>every_nth</b></font>
value is reached and it is either a read or a write command then the
command is processed normally but yields a &quot;recovered error&quot;
indication. Such an indication is _not_ a hard error but for a real
disk could indicate deteriorating media. The &quot;aborted command&quot;
flag injects a transport error in a similar fashion to the way the
&quot;recovered error&quot; flag works. A minor point: the kernel
boot time and module load time <font color="#006c3b"><b>opts</b></font>
parameter is a decimal integer. However the output sysfs value is a
hexadecimal number (output as 0x9 for example) while the input value
is interpreted as hexadecimal if prefixed by &quot;0x&quot; and
decimal otherwise. When combining these flags it is easier to
consider them as hexadecimal numbers.<br/>
<br/>
The <font color="#006c3b"><b>physblk_exp</b></font>
parameter becomes the &quot;Logical blocks per physical block
exponent&quot; field in the READ CAPACITY (16) response. The default
value is 0 which means the logical block and physical block sizes are
the same.<br/>
<br/>
The <font color="#006c3b"><b>ptype</b></font>
parameter allows the SCSI peripheral type to be set or modified. The
default value is 0 which corresponds to a disk. Other useful
peripheral types are 1 for tape, 3 for processor, 5 for dvd/cd and 13
for enclosure (SES).<br/>
<br/>
The <font color="#006c3b"><b>scsi_level</b></font>
parameter is the ANSI SCSI standard level that the simulated disk
announces that it is compliant to.&nbsp; The INQUIRY response which
is generated by scsi_debug contains the ANSI SCSI standard level
value (in byte 2).<br/>
<br/>
The <font color="#006c3b"><b>sector_size</b></font>
parameter (default 512) is the logical block size in bytes (assuming
<font color="#006c3b">ptype</font>=0 which means a block storage
device).<br/>
<br/>
The <font color="#006c3b"><b>statistics</b></font>
parameter controls whether several internal counters are incremented
or not. For speed the default is 0 (i.e. don't collect statistics).
The &quot;every nth&quot; mechanism requires those internal counters
so specifying a non-zero <font color="#006c3b"><b>every_nth</b></font>
parameter will cause the statistics collection to be turned on.<br/>
<br/>
The
<font color="#006c3b"><b>strict</b></font> parameter can be 1 or 0
(the default). If 1 then it uses the cdb mask given in the REPORT
SUPPORTED OPERATION CODES command to check each command cdb received
by this driver. If any bit is set in the cdb but the corresponding
bit is not set in the mask, then the command is rejected with a
status of CHECK CONDITION, a sense key of ILLEGAL REQUEST and
additional sense of INVALID FIELD in CDB. The sense data also points
to the byte and bit position in the cdb that first failed the mask
comparison. Byte long (and longer) fields will always point at bit 7
as failed. Each cdb is scanned in ascending byte order.<br/>
<br/>
The
<b>submit_queue</b> parameter sets the number of submission queues
the SCSI multi-queue logic will maintain for this driver. The default
value is 1 which implies no multi-queue. If a value is given that
exceeds the number of processors on the machine then the value used
will be the number of processors on the machine. A warning is issued
to the log if the driver reduces this value.<br/>
<br/>
The <font color="#006c3b"><b>uuid_ctl</b></font>
parameter controls whether a locally assigned NAA (64 bit value) is
used to identify each logical unit (LU) simulated by this driver, or
if a UUID (128 bit, RFC 4122) is used. If the value is 0 (the
default) a locally assigned NAA is used. If the value is 1 then a new
UUID (effectively a random value) is generated for each LU. If the
value is 2 then the same generated UUID is used for all LUs simulated
by this driver.<br/>
<br/>
The <font color="#006c3b"><b>virtual_gb</b></font>
parameter allows the scsi_debug driver to simulate a much larger
storage device than physical RAM available in the machine.&nbsp; When
the <font color="#006c3b"><b>virtual_gb</b></font> parameter is 0
(its default value) then the maximum storage available is that
indicated by the <font color="#006c3b"><b>dev_size_mb</b></font>
parameter. When the <font color="#006c3b"><b>virtual_gb</b></font>
parameter is greater than zero, that many Gibibytes (each of 2**30
bytes and larger than a Gigabyte) are reported by the READ CAPACITY
command. Reading and writing of the &quot;Gigabytes&quot; of data
wraps around within the available physical ram (which the scsi_debug
driver has allocated and is <font color="#006c3b"><b>dev_size_mb</b></font>
Mebibytes in size). When the number of virtual Gibibytes is 2048 or
greater then READ CAPACITY (16) is needed to represent the size and
READ (16) and/or WRITE (16) are needed to access data at the 2048
Gibibyte boundary and beyond. This boundary represents 2**32-1 blocks
(sectors) assuming 512 bytes long. The &quot;wrapping&quot; action
still allows partitions to be written with fdisk and in many cases a
file system to be initialized. Trying to store and retrieve any
useful data on such a big virtual disk would <u>not</u> be wise!
Setting the <font color="#006c3b"><b>dev_size_mb</b></font> parameter
to a prime number, larger than the default value (which is 8) and
that doesn't starve the machine for resources, seems to help in
creating ext3 file systems. This occurs since mkfs writes the file
system super block at several offsets within the partition, and the
wrap may cause the file system header to be overwritten. <u>The
</u><font color="#006c3b"><u><b>virtual_gb</b></u></font><u> option
is designed for testing, not practical data storage</u>.<br/>
<br/>
The
<font color="#006c3b"><b>vpd_use_hostno</b></font> parameter affects
the way the scsi_debug driver generates its serial numbers, SAS and
naa-5 addresses. When <font color="#006c3b"><b>vpd_use_hostno</b></font>
is set to 1 (its default value) then the host number (&quot;hostno&quot;),
target_id and lun are used to generate the serial number, SAS and
naa-5 addresses. The formula is &quot;((hostno + 1) * 2000) +
(target_id * 1000) + lun)&quot;.&nbsp; When <font color="#006c3b"><b>vpd_use_hostno</b></font>
is set to 0 then the &quot;hostno&quot; term in the formula is set to
0. This has the affect of making multiple simulated hosts look like
they are connected to the same drives (i.e. there are only &quot;<font color="#006c3b"><b>num_tgts</b></font>
* <font color="#006c3b"><b>max_luns</b></font>&quot; unique simulated
devices). The kernel will still report &quot;<font color="#006c3b"><b>add_host</b></font>
* <font color="#006c3b"><b>num_tgts</b></font> * <font color="#006c3b"><b>max_luns</b></font>&quot;
devices but higher level multipath aware software may see the
difference</p>
<h2 class="western"><a name="__RefHeading___Toc123_3679520260"></a>Supported
SCSI commands</h2>
<p>Below is a list of supported commands. Some do nothing (e.g.
SYNCHRONIZE CACHE). Those that have interesting functionality have
notes in brackets. If the feature was introduced in a recent version
(i.e. since 1.76) then that is noted.&nbsp;</p>
<ul>
	<li><p style="margin-bottom: 0cm">CLOSE ZONE [added in 1.89]</p>
	<li><p style="margin-bottom: 0cm">COMPARE AND WRITE [added in 1.85]</p>
	<li><p style="margin-bottom: 0cm">FINISH ZONE [added in 1.89]</p>
	<li><p style="margin-bottom: 0cm">GET LBA STATUS</p>
	<li><p style="margin-bottom: 0cm">INQUIRY [vital product data pages:
	0, 0x80, 0x83] [1.77: VPD pages: 0x85, 0x86, 0x87, 0x88, 0x89, 0xb0]
	[1.87: VPD pages: 0x84, 0xb1, 0xb2] [1.89: VPD page: 0xb6]</p>
	<li><p style="margin-bottom: 0cm">LOG SENSE [1.78: temperature(0xd)
	and informational exceptions(0x2f)] [1.80: support log subpages]</p>
	<li><p style="margin-bottom: 0cm">MODE SELECT (6), MODE SELECT (10)
	[1.84: changeable pages: 0x8 (caching), 0xa (control) and 0x1c
	(informational exceptions)]</p>
	<li><p style="margin-bottom: 0cm">MODE SENSE (6), MODE_SENSE (10)
	[sense pages: 1 (rw error recovery), 2 (disconnect), 3 (format), 8
	(caching), 0xa (control), 0x1c (informational exceptions), 0x3f
	(read all)] [1.77: subpage support plus SAS pages: 0x19,0 0x19,1 and
	0x19,2]</p>
	<li><p style="margin-bottom: 0cm">OPEN ZONE [added in 1.89]</p>
	<li><p style="margin-bottom: 0cm">PRE-FETCH(10), PRE-FETCH(16)
	[added in 1.89]</p>
	<li><p style="margin-bottom: 0cm">PREVENT ALLOW MEDIUM REMOVAL</p>
	<li><p style="margin-bottom: 0cm">READ (6), READ (10), READ(12),
	READ(16), READ(32)</p>
	<li><p style="margin-bottom: 0cm">READ CAPACITY (10), READ CAPACITY
	(16) [1.79: added 16 byte command]</p>
	<li><p style="margin-bottom: 0cm">RELEASE (6), RELEASE (10) 
	</p>
	<li><p style="margin-bottom: 0cm">REPORT LUNS [1.77: shows REPORT
	LUNS wlun]</p>
	<li><p style="margin-bottom: 0cm">REPORT REALMS [added in 1.89, not
	implemented]</p>
	<li><p style="margin-bottom: 0cm">REPORT SUPPORTED OPERATION CODES
	[1.85: added]</p>
	<li><p style="margin-bottom: 0cm">REPORT SUPPORTED TASK MANAGEMENT
	FUNCTIONS [1.85: added]</p>
	<li><p style="margin-bottom: 0cm">REPORT TARGET PORT GROUPS</p>
	<li><p style="margin-bottom: 0cm">REPORT ZONES [added in 1.89]</p>
	<li><p style="margin-bottom: 0cm">REQUEST SENSE [1.79: shows MRIE=6
	failure prediction, power states]</p>
	<li><p style="margin-bottom: 0cm">RESERVE (6), RESERVE (10)</p>
	<li><p style="margin-bottom: 0cm">RESET WRITE POINTER [added in
	1.89]</p>
	<li><p style="margin-bottom: 0cm">REZERO UNIT (which is REWIND for
	tapes)</p>
	<li><p style="margin-bottom: 0cm">SEND DIAGNOSTIC [1.78: maintains
	start and stop states, when stopped fails media access commands]</p>
	<li><p style="margin-bottom: 0cm">SYNCHRONIZE CACHE (10, 16)</p>
	<li><p style="margin-bottom: 0cm">TEST UNIT READY [1.78: in stopped
	state gives appropriate error]</p>
	<li><p style="margin-bottom: 0cm">UNMAP</p>
	<li><p style="margin-bottom: 0cm">VERIFY (10), VERIFY(16) supporting
	BYTCHK=0, 1 or 3 [BYTCHK&gt;0 support added in 1.89]</p>
	<li><p style="margin-bottom: 0cm">WRITE (6), WRITE (10), WRITE (12),
	WRITE (16), WRITE(32) 
	</p>
	<li><p style="margin-bottom: 0cm">WRITE BUFFER</p>
	<li><p style="margin-bottom: 0cm">WRITE SAME(10), WRITE SAME(16) 
	</p>
	<li><p style="margin-bottom: 0cm">WRITE SCATTERED(16, 32)</p>
	<li><p style="margin-bottom: 0cm">UNMAP 
	</p>
	<li><p>&lt;&lt; XDWRITEREAD (10) [which is a bidirectional command]
	[removed around lk 5.0] &gt;&gt;</p>
</ul>
<p>The implementations of the above commands are sufficient for the
scsi subsystem to detect and attach devices. The <b>fdisk</b>, <b>e2fsck</b>
and <b>mount</b> commands also work as do the utilities found in the
sg3_utils package (see the main page). Crude error processing picks
up unsupported commands and attempts to read or write outside the
available RAM storage area. 
</p>
<p>Modern SCSI devices use vital product page 0x83 for
identification. This driver yields both &quot;T10 vendor
identification&quot; and &quot;NAA&quot; descriptors. The former
yields an ASCII string like &quot;Linux&nbsp;&nbsp; scsi_debug&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
4000&quot; where the &quot;4000&quot; is the ((host_no + 1) * 2000) +
(target_id * 1000) + lun). In this case &quot;4000&quot; corresponds
to host_no==1,&nbsp; target_id==0 and lun==0. The &quot;NAA-5&quot;
descriptor is an 8 byte binary value that looks like this hex
sequence: &quot;51 23 45 60 00 00 0f a0&quot; where the IEEE company
id is 0x123456 (fake) and the vendor specific identifier in the least
significant bytes is 4000 (which is fa0 in hex). [The &quot;4000&quot;
is derived the same way for both descriptors.] 
</p>
<p>Read and write commands executed by the scsi_debug driver are
atomic (i.e. a write to one scsi_debug device will not interrupt
(split) a read from another scsi_debug device. So a&nbsp; read
command will either yield the contents of ram before a co-incident
write, or after the co-incident write has finished. In the presence
of multiple stores, the read-write locks are per store.</p>
<p>The START STOP UNIT (SSU) and SYNCHRONIZE CACHE (SC) commands have
special longer delay processing from version 0188 onward. For both
commands if <font color="#006c3b">ndelay</font> &lt;= 10,000 (10
microseconds) then long delays are ignored. Otherwise SSU has at
least a 1 second delay and if <font color="#006c3b">delay</font> &gt;
1 then its delay is that many seconds. And for SC its longer delay is
1/20 that of SSU (e.g. if <font color="#006c3b">delay</font>=2 then
SSU's delay is 2 seconds and SC's delay is 100 milliseconds).</p>
<h2 class="western"><a name="__RefHeading___Toc125_3679520260"></a>Logical
and physical block size</h2>
<p>scsi-debug supports emulating devices with logical block sizes
bigger than 512 bytes. This can be specified using the <font color="#006c3b"><b>sector_size</b></font>
option.<br/>
<br/>
Some storage devices use physical block sizes
bigger than 512 bytes internally but expose a 512-byte logical block
size to the host for compatibility reasons. The <font color="#006c3b"><b>physblk_exp</b></font>
parameter can be used to indicate that the internal block size is 2^n
times bigger than the reported logical block size. For instance:
Supplying <font color="#006c3b"><font face="monospace">physblk_exp</font></font><font face="monospace">=3</font>
on the command line will cause scsi_debug to simulate a device with
512-byte logical blocks and 4KB physical blocks.<br/>
<br/>
Not all
storage devices have logical block 0 aligned to a physical block
boundary. These devices can be emulated using scsi_debug's
<font color="#006c3b">lowest_aligned</font> option. The parameter
indicates the lowest LBA that is aligned to a physical block
boundary.</p>
<h2 class="western"><a name="__RefHeading___Toc127_3679520260"></a>Logical
block provisioning</h2>
<p>SBC-3 introduced Logical block provisioning. That term covers both
&quot;thin provisioning&quot; (the earlier term for this facility)
and&nbsp; &quot;over provisioning&quot; as used in modern SSDs.<br/>
<br/>
Thin
provisioning means that devices can report a capacity that is bigger
than the space actually allocated. When files are deleted, the
relevant blocks can be reclaimed by the storage device and used for
something else. And consequently only blocks that are actively in use
consume physical storage space.<br/>
<br/>
SBC-3 specifies two
different approaches for marking blocks as unused: WRITE SAME(16)
with the UNMAP bit set, and the UNMAP command. scsi_debug supports
both methods and they are controlled via 4 module parameters:</p>
<ul>
	<li><p style="margin-bottom: 0cm"><font color="#006c3b">unmap_max_desc</font>
	specifies the maximum number of ranges that can be unmapped using a
	single UNMAP command. If this is set to 0, only WRITE SAME is
	supported and UNMAP will cause a check condition. 
	</p>
	<li><p style="margin-bottom: 0cm"><font color="#006c3b">unmap_granularity</font>
	specifies the granularity at which to track mapped blocks (specified
	in number of logical blocks). 2048 (1 MB) is a realistic value for
	disk arrays although some may have a finer granularity. 
	</p>
	<li><p style="margin-bottom: 0cm"><font color="#006c3b">unmap_alignment</font>
	specifies the first LBA which is naturally aligned on an
	<font color="#006c3b">unmap_granularity</font> boundary. 
	</p>
	<li><p><font color="#006c3b">unmap_max_blocks</font> specifies the
	maximum number of blocks that can be unmapped using a single UNMAP
	command. Default is 0xffffffff.</p>
</ul>
<p>Examples:</p>
<pre class="western" style="margin-bottom: 0.5cm"> <font face="monospace">modprobe scsi_debug </font><font color="#006c3b"><font face="monospace">lbpws</font></font><font face="monospace">=1 </font><font color="#006c3b"><font face="monospace">unmap_max_desc</font></font><font face="monospace">=0 </font><font color="#006c3b"><font face="monospace">unmap_granularity</font></font><font face="monospace">=1</font></pre><p>
will simulate a device that only supports WRITE SAME(16) and which
tracks usage on a per logical block basis. This is how most solid
state drives work.</p>
<pre class="western" style="margin-bottom: 0.5cm"> <font face="monospace">modprobe scsi_debug </font><font color="#006c3b"><font face="monospace">lbpu</font></font><font face="monospace">=1 </font><font color="#006c3b"><font face="monospace">unmap_max_desc</font></font><font face="monospace">=64 </font><font color="#006c3b"><font face="monospace">unmap_granularity</font></font><font face="monospace">=2048</font></pre><p>
<br/>
will simulate a device that supports UNMAP and which is
provisioned in 1MB chunks. This is a common scenario for thinly
provisioned storage arrays.<br/>
<br/>
The current block allocation
bitmap can be viewed from user space via:</p>
<pre class="western" style="margin-bottom: 0.5cm"> <font face="monospace">cat /sys/bus/pseudo/drivers/scsi_debug/map</font></pre><h2 class="western">
<a name="__RefHeading___Toc129_3679520260"></a>Unit attentions</h2>
<p>An important feature of the SCSI command sets is the concept of a
Unit Attention (UA). This is a mechanism for the &quot;device server&quot;
within a logical unit (e.g. a disk) to report to the originator (e.g.
a user space program, a file system or the kernel) that something,
not directly related to the command that was just sent, has happened.
That report takes the form of the command <u>not</u> being done and
sense data with the UNIT ATTENTION sense key being returned.
Additional information about the UA is provided in the sense data and
the originator is expected to take note. UAs are typically only
reported once so if the initiator repeats the command it should work
(or a different type of UA might be delivered).<br/>
<br/>
An example
might make this clearer. It is possible to change the number of
logical blocks on a disk; the FORMAT command could do that. In the
scsi_debug driver even though <tt class="western"><font color="#006c3b">dev_size_mb</font></tt>
cannot be changed at run time, the <tt class="western"><font color="#006c3b">virtual_gb</font></tt>
parameter can be. If the the <tt class="western"><font color="#006c3b">virtual_gb</font></tt>
parameter is changed (via sysfs, after the driver has been running),
then the &quot;Capacity data has changed&quot; UA condition is set.
The next command sent to that device will receive that UA (with some
exceptions) in the returned sense data (and the command is not done).
The exceptions are the INQUIRY, REPORT LUNS and REQUEST SENSE
commands which skip UA reporting (see SAM-5 for details). Once the
originator sees that UNIT ATTENTION sense key, it should note the
reason, and repeat the command unless it is directly impacted. If the
command that got &quot;hit&quot; by this UA was a READ or a WRITE
then the originator might want to do a READ CAPACITY command first,
at least to check that the LBA given to the READ or WRITE command was
still in range.<br/>
<br/>
The scsi_debug driver reports these Unit
Attentions:</p>
<ul>
	<li><p style="margin-bottom: 0cm">Power on, reset, or bus device
	reset occurred 
	</p>
	<li><p style="margin-bottom: 0cm">SCSI bus reset occurred 
	</p>
	<li><p style="margin-bottom: 0cm">Mode parameters changed 
	</p>
	<li><p>Capacity data has changed 
	</p>
</ul>
<p>If there is more than one UA, then they are reported in the
ascending order of that list.</p>
<h2 class="western"><a name="__RefHeading___Toc131_3679520260"></a>Zoned
Block Devices</h2>
<p>Version 1.89 of this driver added support for <i>host-managed</i>
and <i>host-aware</i> Zone Block devices (i.e. disks). Host <i>managed</i>
devices must have one or more zones that comply with the <i>sequential
write </i><i><u>required</u></i> model. Host <i>aware</i> devices
must have one or more zones that comply with the <i>sequential write
</i><i><u>preferred</u></i> model. Both <i>host managed</i> and <i>host
aware</i> devices may have one or more conventional zones and if
present, they are usually placed before (i.e. have lower LBAs than)
the <i>sequential write</i> zones. A <i>host-aware</i> ZBC device is
a less restrictive form of ZBC which provides backward compatibility
with regular disks and, as a result, random write operations have
unpredictable performance. On the other hand, a <i>host-managed </i>ZBC
device rejects random writes to ensure fast execution of sequential
writes. For both ZBC types, read command processing is similar in
performance to normal disks.</p>
<p>All scsi_debug devices generated when this module is loaded with
the &quot;<font color="#006c3b">zbc</font>=host-managed&quot;
parameter will be of that type. All scsi_debug devices generated when
this module is loaded with the &quot;<font color="#006c3b">zbc</font>=host-aware&quot;
parameter will be of that type, which has a <font color="#006c3b"><b>ptype</b></font>
value of 0x0 and that happens to be the SCSI Peripheral Device Type
(pdt) of a normal disk. An application can distinguish between a
normal disk and a host-aware ZBC disk by reading the ZONED field in
the Block Device Characteristics VPD page (0xb1); a normal disk will
have 0 in the ZONED field, a ZBC host-aware disk will have 1 in the
ZONED field while a ZBC host-managed disk will have 2 in the ZONED
field. Also a ZBC host-managed disk will have a pdt of 0x14 which is
probably the simplest way to distinguish it.</p>
<p>The following table shows how each scsi_debug device is set up
when <font color="#006c3b">zbc</font>=managed is given:</p>
<table width="506" cellpadding="4" cellspacing="0">
	<col width="112"/>

	<col width="136"/>

	<col width="128"/>

	<col width="96"/>

	<thead>
		<tr valign="top">
			<th width="112" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0.1cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm"><p>
				dev_size_mb</p>
			</th>
			<th width="136" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0.1cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm"><p style="margin-bottom: 0.1cm">
				nr_zones</p>
				<p>[first conventional]</p>
			</th>
			<th width="128" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0.1cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm"><p>
				zone_size</p>
			</th>
			<th width="96" style="border: 1px solid #000000; padding: 0.1cm"><p>
				max_opens</p>
			</th>
		</tr>
	</thead>
	<tbody>
		<tr valign="top">
			<td width="112" style="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm"><p>
				not given</p>
			</td>
			<td width="136" style="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm"><p>
				4</p>
			</td>
			<td width="128" style="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm"><p>
				32 MiB</p>
			</td>
			<td width="96" style="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0.1cm"><p>
				1</p>
			</td>
		</tr>
		<tr valign="top">
			<td width="112" style="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm"><p>
				64 MiB</p>
			</td>
			<td width="136" style="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm"><p>
				4</p>
			</td>
			<td width="128" style="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm"><p>
				16 MiB</p>
			</td>
			<td width="96" style="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0.1cm"><p>
				1</p>
			</td>
		</tr>
		<tr valign="top">
			<td width="112" style="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm"><p>
				128 MiB</p>
			</td>
			<td width="136" style="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm"><p>
				4</p>
			</td>
			<td width="128" style="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm"><p>
				32 MiB</p>
			</td>
			<td width="96" style="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0.1cm"><p>
				1</p>
			</td>
		</tr>
		<tr valign="top">
			<td width="112" style="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm"><p>
				256 MiB</p>
			</td>
			<td width="136" style="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm"><p>
				4</p>
			</td>
			<td width="128" style="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm"><p>
				64 MiB</p>
			</td>
			<td width="96" style="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0.1cm"><p>
				1</p>
			</td>
		</tr>
		<tr valign="top">
			<td width="112" style="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm"><p>
				512 MiB</p>
			</td>
			<td width="136" style="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm"><p>
				4</p>
			</td>
			<td width="128" style="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm"><p>
				128 MiB</p>
			</td>
			<td width="96" style="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0.1cm"><p>
				1</p>
			</td>
		</tr>
		<tr valign="top">
			<td width="112" style="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm"><p>
				1024 MiB</p>
			</td>
			<td width="136" style="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm"><p>
				8</p>
			</td>
			<td width="128" style="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm"><p>
				128 MiB</p>
			</td>
			<td width="96" style="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0.1cm"><p>
				3</p>
			</td>
		</tr>
		<tr valign="top">
			<td width="112" style="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm"><p>
				2048 MiB</p>
			</td>
			<td width="136" style="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm"><p>
				16</p>
			</td>
			<td width="128" style="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm"><p>
				128 MiB</p>
			</td>
			<td width="96" style="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0.1cm"><p>
				8</p>
			</td>
		</tr>
	</tbody>
</table>
<p><br/>
<br/>

</p>
<p>A few observations from this table:</p>
<ul>
	<li><p>the default device size is 128 MiB when <font color="#006c3b">zbc</font>=managed
	(or <font color="#006c3b">ptype</font>=0x14); 8 MiB otherwise</p>
	<li><p>the minimum number of zones is 4 with the first one being
	conventional; the others are <i>sequential write required</i> or
	<i>sequential write preferred </i>zone type</p>
	<li><p>the default zone size is 128 MiB, smaller if the device size
	is less than 512 MiB</p>
	<li><p>the table remains the same irrespective of whether the
	logical block size is 512 or 4096 bytes</p>
</ul>
<p>Three zone_* parameters can be given at module/driver load time,
but in some cases they are overridden (e.g. max_opens). If they are
not given (and &quot;<font color="#006c3b">zbc</font>=host-managed&quot;)
then the driver tries to mimic what a real ZBC/ZAC disk does. One
significant difference is that real ZBC disks can have sizes in the
order of 20 TB and not many systems have enough ram to allow
<tt class="western"><font color="#006c3b">dev_size_mb</font></tt>=20000000.</p>
<p>There is an example below that exercises a scsi_debug ZBC device
using a zonefs-tools test script. In that example, the relevant
scsi_debug driver parameters (for ZBC) are ' <font color="#006c3b">zbc</font>=managed
<font color="#006c3b">zone_size_mb</font>=8 <font color="#006c3b">zone_nr_conv</font>=3'
and this leads to a device size 128 MiB with 13 <i>sequential write
</i><i><u>required</u></i> zones in addition to the 3 conventional
zones requested, for a total of 16 zones, each 8 MiB long. The
maximum number of open zones is 8.</p>
<h2 class="western">iopoll/blk_poll</h2>
<p>This driver supports iopoll/blk_poll() in version 1.90 and later.
It does this by defining the mq_poll() callback. This driver notices
the REQ_HIPRI setting on an incoming request which is the block
layer's way of indicating that some upper layer is going to call
blk_poll() on this request until completion occurs. Usually
command/request completion is signalled by a (software) interrupt
from the LLD. For <i>this</i> LLD (i.e. the scsi_debug driver) those
events are generated by kernel timers when <font color="#006c3b"><b>delay</b></font>
(or <font color="#006c3b"><b>ndelay</b></font>) has expired. These
kernel timers are <i><u>not</u></i> set up for REQ_HIPRI requests.
Instead upper layers are assumed to call blk_poll() on those requests
and this driver sees them as invocations of its mq_poll() entry
point. And mq_poll() manually checks if <font color="#006c3b"><b>delay</b></font>
(or <font color="#006c3b"><b>ndelay</b></font>) has expired, and if
so carries out command/request completion.</p>
<p>Note that <i><u>if</u></i> the upper layers do not call blk_poll()
after setting REQ_HIPRI on a request then the SCSI mid-level will
time-out that request (typically after 60 seconds). Timed out
commands are logged and appear like this:</p>
<pre class="western" style="margin-bottom: 0.5cm">sd 6:0:0:0: [sdf] tag#0 FAILED Result: hostbyte=DID_TIME_OUT driverbyte=DRIVER_OK cmd_age=125s</pre><p>
usually together with the SCSI command (in hex bytes) that failed.
Excessive timeouts can lead to SCSI sub-system instability and should
be avoided, if possible. When simulating a fast device (say with a
latency of &lt; 50 microseconds) poll based techniques (such as
iopoll/blk_poll) have been found to perform better than
event/interrupt based techniques.</p>
<p>There is an important difference between <b>poll(2)</b> and
<b>epoll(2) </b>techniques and iopoll/blk_poll. Consider an async
user space program using the SIGIO signal to indicate command/request
completion: there are two stages of events for <i>each</i>
completion. First the LLD sends a (software) interrupt to the SCSI
mid-level to indicate a command/request has completed; then the block
layer sends a SIGIO signal to the process that has been &quot;armed&quot;
to receive that SIGIO signal. The <b>poll(2)</b> and <b>epoll(2)</b>
<span style="font-weight: normal">system calls can be used to bypass
SIGIO generation and handling, but the former (software) interrupt
remains. iopoll/blk_poll is more efficient (and thus marginally
faster) because it reaches down to the LLD to &quot;short circuit&quot;
the usual two stage process.</span></p>
<p><span style="font-weight: normal">The Linux io_uring mechanism
allows requests with REQ_HIPRI to be issued and handles blk_poll()
invocations until completion. The fio utility can be used with the
io_uring engine and the hipri=1 setting to test this facility. The
Linux scsi generic (sg) driver has a new flag: SGV4_FLAG_HIPRI that
leads to its requests being issued with REQ_HIPRI set. Also the sg
driver's </span><b>ioctl</b><span style="font-weight: normal">(SG_GET_NUM_WAITING)
will call blk_poll() if appropriate as will several other user space
calls (e.g.</span> <span style="font-weight: normal">the blocking
</span><b>ioctl</b><span style="font-weight: normal">(SG_IO) ).</span></p>
<h2 class="western">Examples</h2>
<h3 class="western">Basic</h3>
<p>Since scsi_debug is for testing it seems more useful to build it
as a module rather than build it into the kernel. Some parameters
cannot be changed once the scsi_debug driver is running. So if it is
a module then it can be removed with <b>rmmod</b> and reloaded with
another <b>modprobe</b> call with the desired parameters.<br/>
<br/>
When
the driver is loaded successfully simulated disks should be visible
just like other SCSI devices: 
</p>
<pre class="western"><tt class="western"># modprobe scsi_debug</tt>

<tt class="western"># lsscsi -s</tt>
<tt class="western">[0:0:0:0] disk SEAGATE ST33000650SS 0005 /dev/sda 3.00TB</tt>
<tt class="western">[0:0:1:0] enclosu Intel RES2SV240 0d00 - -</tt>
<tt class="western">[4:0:0:0] disk ATA ST3160812AS D /dev/sdb 160GB</tt>
<tt class="western">[7:0:0:0] disk Linux scsi_debug 0184 /dev/sdc 8.38MB</tt></pre><p>
In this case there is a 3 TB SAS disk, an ATA disk and a small
scsi_debug pseudo disk. The other device (at <tt class="western">[0:0:1:0]</tt>)
is a SCSI Enclosure Service (SES) device.&nbsp; The <tt class="western">/dev/sdc</tt>
pseudo disk is full of zeros and has no partitions. To get a
partition the <font color="#006c3b"><b>num_parts</b></font> parameter
could have been used on the <b>modprobe</b> line or it could be done
from the command line with the <b>fdisk /dev/sdc</b> command.
Assuming one ext3 partition is allocated to the whole pseudo disk (8
MB in this case) then the <b>mkfs.ext3 /dev/sdc1</b> command can be
used to make an ext3 file system. Now <font face="monospace">/dev/sdc1</font>
can be mounted and treated like a normal file system. Naturally when
the power is turned off anything stored in <font face="monospace">/dev/sdc1</font>
will be forgotten. 
</p>
<p>Rather than mounting the pseudo disk, the <a href="https://sg.danny.cz/sg/sg3_utils.html">sg3_utils</a>
package could be used to carry out various tests on it. 
</p>
<p>Information about the scsi_debug driver version, its current
parameters and some other data can be found in the &quot;proc&quot;
file system. The trailing number in the path is the scsi_debug host
number which is the first element in the 4 item tuple shown in the
<b>lsscsi</b> above :</p>
<pre class="western"><tt class="western"># cat /proc/scsi/scsi_debug/2</tt>
<tt class="western">scsi_debug adapter driver, version 0189 [20200225]</tt>
<tt class="western"><font color="#006c3b">num_tgts</font></tt><tt class="western">=1, shared (ram) size=1024 MB, </tt><tt class="western"><font color="#006c3b">opts</font></tt><tt class="western">=0x0, every_nth=0</tt>
<tt class="western">delay=-9999, ndelay=100000, </tt><tt class="western"><font color="#006c3b"><font face="monospace">max_luns</font></font></tt><tt class="western">=10, </tt><tt class="western"><font color="#006c3b">sector_size</font></tt><tt class="western">=512 bytes</tt>
<tt class="western">cylinders=130, heads=255, sectors=63, command aborts=0</tt>
<tt class="western">RESETs: device=0, target=0, bus=0, host=0</tt>
<tt class="western">dix_reads=0, dix_writes=0, dif_errors=0</tt>
<tt class="western">usec_in_jiffy=1000, </tt><tt class="western"><font color="#006c3b">statistics</font></tt><tt class="western">=0</tt>
<tt class="western">cmnd_count=0, completions=0, miss_cpus=0, a_tsf=0</tt>
<tt class="western"><font color="#006c3b">submit_queues</font></tt><tt class="western">=1</tt>
<tt class="western">  </tt><tt class="western">queue 0:</tt>
<tt class="western">    </tt><tt class="western">in_use_bm BUSY: first,last bits: 0,65</tt>
<tt class="western">this host_no=2</tt>

<tt class="western">host list:</tt>
<tt class="western">  </tt><tt class="western">0: host_no=0, si_idx=0</tt>
<tt class="western">  </tt><tt class="western">1: host_no=1, si_idx=1</tt>
<tt class="western">  </tt><tt class="western">2: host_no=2, si_idx=2</tt>

<tt class="western">per_store array [most_recent_idx=2]:</tt>
<tt class="western">  </tt><tt class="western">0: idx=0</tt>
<tt class="western">  </tt><tt class="western">1: idx=1</tt>
<tt class="western">  </tt><tt class="western">2: idx=2</tt></pre><p>
Here is an important sysfs directory for the scsi_debug driver:</p>
<pre class="western"><tt class="western"># cd /sys/bus/pseudo/drivers/scsi_debug/</tt>

<tt class="western"># ls -x</tt>
<tt class="western"><font color="#00b6bd">adapter0     adapter1        adapter2</font></tt><tt class="western"><font color="#006c3b">   add_host  ato        </font></tt><tt class="western"><font color="#000000">bind</font></tt><tt class="western"><font color="#006c3b">        cdb_len         delay</font></tt>
<tt class="western"><font color="#006c3b">dev_size_mb  dif             dix        dsense    every_nth  fake_rw     guard           host_lock</font></tt>
<tt class="western"><font color="#006c3b">map          max_luns        max_queue  ndelay    no_lun_0   no_uld      num_parts       num_tgts</font></tt>
<tt class="western"><font color="#006c3b">opts         per_host_store  ptype      random    removable  scsi_level  sector_size     statistics</font></tt>
<tt class="western"><font color="#006c3b">strict       submit_queues   </font></tt><tt class="western"><font color="#000000">uevent     unbind</font></tt><tt class="western"><font color="#006c3b">    uuid_ctl   virtual_gb  vpd_use_hostno  zbc</font></tt></pre><p>
Those files are most of the scsi_debug parameters, those that are
writable can be modified and the scsi_debug actions will change
accordingly thereafter. Certain parameters cannot be changed while
the driver is busy (e.g. it has queued command responses), in which
case EBUSY is returned if the user attempts to change one. Reading
one can be done with the <tt class="western">cat</tt> command and
changing one can be done with the <tt class="western">echo</tt>
command:</p>
<pre class="western"><tt class="western"># cat </tt><tt class="western"><font color="#006c3b">every_nth</font></tt>
<tt class="western">0</tt>
<tt class="western"># echo 2000 &gt; </tt><tt class="western"><font color="#006c3b">every_nth</font></tt></pre><p>
Another important sysfs directory for (any) disks is
<tt class="western">/sys/block/&lt;disk_node_name&gt;</tt> and its
<tt class="western">queue</tt> sub-directory. So in this case of this
scsi_debug pseudo disk that directory would be<tt class="western">
/sys/block/sdc/queue </tt>. Also there is the scsi_device sysfs
directory that has the form<tt class="western">
/sys/class/scsi_device/&lt;h:c:t:l&gt;/device </tt>where the<tt class="western">
&lt;h:c:t:l&gt; </tt>tuple is found at the left hand side of each
device listed by <b>lsscsi</b>.<tt class="western"> </tt>This sysfs
directory contains many important SCSI device parameters some of
which can be modified.</p>
<h3 class="western">Adding and removing hosts and devices</h3>
<p>Individual devices can be removed via sysfs and the mid-level by
writing any value into the &quot;delete&quot; member in the sysfs
directory corresponding to the scsi device. Given these devices:</p>
<pre class="western"><tt class="western"># lsscsi -s</tt>
<tt class="western">[0:0:0:0] disk SEAGATE ST200FM0073 0A04 /dev/sda 200GB</tt>
<tt class="western">[4:0:0:0] disk ATA ST3160812AS D /dev/sdb 160GB</tt>
<tt class="western">[7:0:0:0] disk Linux scsi_debug 0184 /dev/sdc 21.4GB</tt></pre><p>
then the scsi_debug (pseudo) disk can be deleted like this:</p>
<pre class="western" style="margin-bottom: 0.5cm"><font face="monospace"># echo 1 &gt; /sys/class/scsi_device/7:0:0:0/device/delete</font></pre><p>
After which this should be seen:</p>
<pre class="western"><tt class="western"># lsscsi -s</tt>
<tt class="western">[0:0:0:0] disk SEAGATE ST200FM0073 0A04 /dev/sda 200GB</tt>
<tt class="western">[4:0:0:0] disk ATA ST3160812AS D /dev/sdb 160GB</tt></pre><p>
This will work for any scsi device (not just those belonging to
scsi_debug). That scsi device can be re-added with the following
command:</p>
<pre class="western"># echo &quot;0 0 0&quot; &gt; /sys/class/scsi_host/host7/scan

# lsscsi
[0:0:0:0] disk SEAGATE ST200FM0073 0A04 /dev/sda 
[4:0:0:0] disk ATA ST3160812AS D /dev/sdb 
[7:0:0:0] disk Linux scsi_debug 0184 /dev/sdc</pre><p>
The three numbers in the &quot;echo&quot; are channel number, target
number and lun, respectively. Wildcards (hyphen: &quot;-&quot;) can
be given for any or all of the three numbers.</p>
<pre class="western"><font face="Liberation Mono, monospace"># echo 3 &gt; </font><tt class="western"><font face="Liberation Mono, monospace">/sys/bus/pseudo/drivers/scsi_debug/</font></tt><tt class="western"><font color="#006c3b"><font face="Liberation Mono, monospace">max_luns</font></font></tt>
<font face="Liberation Mono, monospace"># echo 2 &gt; </font><tt class="western"><font face="Liberation Mono, monospace">/sys/bus/pseudo/drivers/scsi_debug/</font></tt><tt class="western"><font color="#006c3b"><font face="Liberation Mono, monospace">num_tgts</font></font></tt>
<tt class="western"><font face="Liberation Mono, monospace"># echo &quot;0 - -&quot; &gt; </font></tt><font face="Liberation Mono, monospace">/sys/class/scsi_host/host7/scan</font>

<font face="Liberation Mono, monospace"># lsscsi</font>
<font face="Liberation Mono, monospace">[0:0:0:0] disk SEAGATE ST200FM0073 0A04 /dev/sda </font>
<font face="Liberation Mono, monospace">[4:0:0:0] disk ATA ST3160812AS D /dev/sdb </font>
<font face="Liberation Mono, monospace">[7:0:0:0] disk Linux scsi_debug 0184 /dev/sdc </font>
<font face="Liberation Mono, monospace">[7:0:0:1] disk Linux scsi_debug 0184 /dev/sdd </font>
<font face="Liberation Mono, monospace">[7:0:0:2] disk Linux scsi_debug 0184 /dev/sde </font>
<font face="Liberation Mono, monospace">[7:0:1:0] disk Linux scsi_debug 0184 /dev/sdf </font>
<font face="Liberation Mono, monospace">[7:0:1:1] disk Linux scsi_debug 0184 /dev/sdg </font>
<font face="Liberation Mono, monospace">[7:0:1:2] disk Linux scsi_debug 0184 /dev/sdh</font></pre><p style="line-height: 100%; margin-bottom: 0cm; background: transparent">
The '<tt class="western">echo &quot;0 - -&quot; &gt; scan</tt>' line
above added five devices: <font face="monospace">/dev/sdd</font> to
<font face="monospace">/dev/sdh</font> .</p>
<p style="line-height: 100%; margin-bottom: 0cm; background: transparent">
<br/>

</p>
<p>Extra hosts can be added and removed from the scsi_debug driver as
follows:</p>
<pre class="western"><tt class="western"># cd /sys/bus/pseudo/drivers/scsi_debug</tt>
<tt class="western"># echo 1 &gt; </tt><tt class="western"><font color="#006c3b">add_host</font></tt><tt class="western">  # add a new host (after the existing hosts)</tt>
<tt class="western"># echo -2 &gt; </tt><tt class="western"><font color="#006c3b">add_host</font></tt><tt class="western"> # remove the </tt><tt class="western"><i>last</i></tt><tt class="western"> two hosts (if at least that many are present)</tt></pre><p>
The scsi_debug driver does not have any limits on the number of scsi
devices it can create. By default when loaded it has one scsi device
(owned by a host). Larger numbers of devices can be introduced at
load time by specifying the <font color="#006c3b"><b>add_host</b></font>,
<font color="#006c3b"><b>num_tgts</b></font> and/or <font color="#006c3b"><b>max_luns</b></font>
parameters, the number of scsi devices created is the product of the
3 parameters (they all default to 1). Alternatively sysfs can be used
to add (or remove) scsi devices after the scsi_debug driver is
loaded. Two strategies can be used:</p>
<ul>
	<li><p style="margin-bottom: 0cm">increase the value of <font color="#006c3b"><b>num_tgts</b></font>
	or <font color="#006c3b"><b>max_luns</b></font> then use a line like
	'echo &quot;0 - -&quot; &gt; scan' (shown above) to a host already
	owned by the scsi_debug driver. 
	</p>
	<li><p>add more hosts with a line like 'echo 3 &gt; <font color="#006c3b">add_host</font>'.
	Each new host will create (<font color="#006c3b"><b>num_tgts</b></font>
	* <font color="#006c3b"><b>max_luns</b></font>) new scsi devices. Of
	course <font color="#006c3b"><b>num_tgts</b></font> or <font color="#006c3b"><b>max_luns</b></font>
	can be modified prior to calling 'echo 3 &gt; <font color="#006c3b">add_host</font>'.
		</p>
</ul>
<p>Even though the scsi_debug can create ten thousand or more
devices, it doesn't mean that the scsi mid-level, sd, sg, the block
layer and various other kernel components will handle it gracefully.</p>
<h3 class="western">Mode pages</h3>
<p>The supported mode pages are listed following the MODE SENSE entry
in the supported commands sections above. Prior to version 1.80, when
a mode page is read no block descriptor is included in the response.
From version 1.78 the MODE SELECT command is supported. Three mode
pages can be modified:</p>
<ul>
	<li><p style="margin-bottom: 0cm">caching (WCE field is changeable)
	[added in version 1.84]</p>
	<li><p style="margin-bottom: 0cm">control (D_SENSE field is acted
	upon) 
	</p>
	<li><p>informational exceptions control (MRIE and TEST fields are
	acted upon by REQUEST SENSE) 
	</p>
</ul>
<p>The saved pages are not supported, reflecting that the scsi_debug
driver has only volatile storage. All fields can be changed, only
those fields indicated above have side effects.</p>
<h3 class="western">per_host_store</h3>
<p>Various users have asked for <i>each</i> scsi_debug device (i.e.
&quot;Logical Unit&quot; (LU) in SCSI parlance) to have its own ram
or backing store rather than all devices sharing the same ram. The
answer has been: &quot;look at tcm_loop&quot; because this driver has
been built to simulate thousands of hosts, targets and devices (LUs)
without consuming the sort of resources that would usually imply.</p>
<p>As a compromise the <font color="#006c3b">per_host_store</font>
parameter has been added. It can be used during the driver/module
invocation or via sysfs where it is read-writable. It is boolean and
defaults to 0 (false). Setting it to 1 (true) has no effect
immediately, but any following <font color="#006c3b">add_host</font>s
(given a positive number) will create one or more new hosts, each
with their own &quot;store&quot;. &quot;store&quot; in this case
includes it own ramdisk, logical block partitioning map and
protection information (the latter two are optional). Each store has
its own read-write lock protecting access to it. Note that if a host
has more than one target and/or more than device (i.e. logical unit
or LU) , then they will all share the same store. So the granularity
of the store it at the SCSI host level.</p>
<p>The number of stores and (scsi_debug) hosts are <i>not</i>
necessarily the same. Any host added (by writing to <font color="#006c3b">add_host</font>
in sysfs) when <font color="#006c3b">per_host_store</font>=0 will
share the last added store. So if <font color="#006c3b">per_host_store</font>
has been 0 ever since the driver/module was loaded then all added
hosts will share the one (and only) store which is the same situation
that occurred before version 1.89 . When sysfs is used to remove a
host that has its own store (e.g. with 'echo -1 &gt; <font color="#006c3b">add_host</font>')
then the (last added usually) host will be removed but its store will
<u>not </u>be removed. Even if that store is orphaned (i.e. it has no
other hosts using it) it will continue to consume ram on the machine.
If subsequently a new host was added (when <font color="#006c3b">per_host_store</font>=1)
then it would most likely be given that orphaned store (marked &quot;not
in use&quot; when 'cat /proc/scsi/scsi_debug/&lt;host_no&gt;' is
output) and that store would be marked as in use. Keeping store
around like that is a programmer's way of guarding against &quot;use
after remove&quot; errors which are very difficult to guard against.
The downside is the amount of ram this driver consumes will not
shrink. Since the scsi_debug driver may be built in and causing the
machine grief due to its ram consumption, a mechanism has been added
to shrink the number of stores back to one (since the only other
option might be to reboot the machine). If the <font color="#006c3b">fake_rw</font>
parameter is toggled (i.e. first written to 1 then written to 0) then
the number of stores is shrunk to one, and all hosts (i.e. the same
number of hosts present before the toggle) will share the one
remaining store.</p>
<h3 class="western">VERIFY</h3>
<p>Having more than one store, allows more thorough testing of copy
operations. If the source and destination of a copy are on different
stores owned by this driver, then just like a &quot;real&quot; copy,
the accuracy of the copy can be checked by comparing that the source
and destination after the copy are indeed the same. The normal way to
check that would be to read the source and destination into use space
buffers, then compare those two buffers. There is another way: read
from one and use that user data to send to the other and ask the
device to do the compare operation. NVMe calls its command to do that
&quot;Compare&quot;, in SCSI the naming is a bit more obscure:
VERIFY(BYTCHK=1). BYTCHK is a two bit field that when set to 1
effectively does a compare operation. It can do one other trick: when
BYTCHK=3 (which is implemented in Version 1.89) it takes a single
logical block and compares it with each block in the LU in the VERIFY
range (i.e. (starting) LBA and number of blocks). That would allow an
LU to be checked if it were all zeros, for example, without having to
send Terabytes of zeros to the LU.</p>
<p>The SCSI VERIFY(BYTCHK=1) command in version 1.89 of this driver
returns GOOD status if the comparison succeeds. If that comparison
fails, it stops at that point and returns a CHECK CONDITION status,
with a sense key of MISCOMPARE.</p>
<p>The following first loads the scsi_debug module with 4 hosts, each
with one LU. Each host (and therefore each LU) has its own 1 GiB of
store. The logical block size defaults to 512 bytes and the
<font color="#006c3b">ndelay</font>=100000 <font color="#006c3b">random</font>=1
means that the delay on each media command is uniformly distributed
between a maximum of 100 microseconds and 0 microseconds. dd is not
too smart trying to write random data off the end of /dev/sdc but it
does the job: filling /dev/sdc (/dev/sg2) with pseudo random data.
Then there is a copy of the data from /dev/sg2 (aka /dev/sdc) to
/dev/sg3 . Finally the --verify on the sg_dd utility (found in
version 1.45 and later of the sg3_utils package) compares /dev/sg2
and /dev/sg3 using the SCSI VERIFY(BYTCHK=1) command.</p>
<pre class="western"># modprobe scsi_debug <tt class="western"><font color="#006c3b">dev_size_mb</font></tt>=1024 <font color="#006c3b">ndelay</font>=100000 <font color="#006c3b">random</font>=1 <font color="#006c3b">per_host_store</font>=1 <font color="#006c3b">add_host</font>=4
# lsscsi -gs
[0:0:0:0]    disk    Linux    scsi_debug       0189  /dev/sda   /dev/sg0   1.07GB
[1:0:0:0]    disk    Linux    scsi_debug       0189  /dev/sdb   /dev/sg1   1.07GB
[2:0:0:0]    disk    Linux    scsi_debug       0189  /dev/sdc   /dev/sg2   1.07GB
[3:0:0:0]    disk    Linux    scsi_debug       0189  /dev/sdd   /dev/sg3   1.07GB
[N:0:1:1]    disk    INTEL SSDPEKKF256G7L__1                    /dev/nvme0n1  -           256GB

# dd if=/dev/urandom of=/dev/sdc
dd: writing to '/dev/sdc': No space left on device
2097153+0 records in
2097152+0 records out
1073741824 bytes (1.1 GB, 1.0 GiB) copied, 49.4036 s, 21.7 MB/s

# sg_dd if=/dev/sg2 of=/dev/sg3 bs=512
2097152+0 records in
2097152+0 records out

# sg_dd --verify if=/dev/sg2 of=/dev/sg3 bs=512
2097152+0 records in
2097152+0 records verified
#
# # force a compare failure:
# dd if=/dev/zero seek=1234 bs=512 of=/dev/sdc count=1
1+0 records in
1+0 records out
512 bytes copied, 0.00119379 s, 429 kB/s

# sg_dd --verify if=/dev/sg2 of=/dev/sg3 bs=512
verifying: SCSI status: Check Condition 
Fixed format, current; Sense key: Miscompare
Additional sense: Miscompare during verify operation
sg_write failed, seek=1152
Some error occurred,  remaining block count=2096000
1280+0 records in
1152+0 records verified
1 unrecovered error(s)

#
# sg_dd --verify if=/dev/sg2 of=/dev/sg3 bs=512 bpt=1
verifying: SCSI status: Check Condition 
Fixed format, current; Sense key: Miscompare
Additional sense: Miscompare during verify operation
sg_write failed, seek=1234
Some error occurred,  remaining block count=2095918
1235+0 records in
1234+0 records verified
1 unrecovered error(s)
#</pre><p>
To demonstrate that the compare/verify is working, the second half of
the above example writes a block of zeros at LBA 1234 in /dev/sdc
then repeats the sg_dd --verify utility. This time the verify fails
at some point after block 1152. This error report is a bit &quot;coarse&quot;
because the &quot;blocks per transfer&quot; parameter (bpt) defaults
to 128 (when the logical block size is 512 bytes). By repeating the
sg_dd --verify with bpt=1 the error report is more finely tuned
saying 1234 LBs where verified (i.e. blocks 0 to 1233 inclusive)
before the verification failed. The &quot;unrecovered&quot; error has
now been changed to a &quot;miscompare&quot; error in the sg_dd
utility. That should better convey that the error is logical in
nature, rather than a hardware problem with the media.</p>
<p>Aside: the SCSI VERIFY command with the BYTCHK field set to 3
allows a relatively fast check if a disk (or portion of it) is all
zeros or all 0xff bytes. In this configuration the application client
sends a single logical block in the data-out buffer and the LU's
device server (in the target) compares that logical block with the
LBs on the disk starting at the given LBA until give &quot;verification
length&quot; (in LBs) is reached or until the comparison fails,
whichever comes first. From version 1.89 the scsi_debug driver also
supports this configuration.</p>
<p>The following is a variant of the same verification check using a
single scsi_debug &quot;disk&quot;. Say it is 1 GB in size which is
0x200000 512 byte blocks. Split the copy and verify in two: bottom
half and top half of the LBA range (but urandom fills the <i>whole</i>
disk).</p>
<pre class="western"># ddpt if=/dev/urandom of=/dev/sg0
Assume logical block size of 512 bytes for both input and output
2097152+0 records in
2097152+0 records out
time to transfer data: 10.970504 secs at 97.88 MB/sec

# sgh_dd if=/dev/sg0 bs=512 of=/dev/sg0 seek=0x100000 count=0x100000
time to transfer data was 0.511428 secs, 1049.75 MB/sec
1048576+0 records in
1048576+0 records out

# sgh_dd --verify if=/dev/sg0 bs=512 of=/dev/sg0 seek=0x100000 count=0x100000
Doing verify/cmp rather than copy
time to transfer data was 1.018330 secs, 527.21 MB/sec
1048576+0 records in
1048576+0 records verified</pre><p>
This also demonstrates that request sharing works (since sgh_dd uses
request sharing by default) when both file descriptors (i.e. the one
associated with if=/dev/sg0 and the other associated with
of=/dev/sg0) are opened on the <i>same</i> sg device.</p>
<h3 class="western">ZBC test scripts</h3>
<p>The following test script is found in the libzbc package that may
need to be built before running it. The latest source can be found
at:</p>
<pre class="western" style="margin-bottom: 0.5cm"># git clone <a href="https://github.com/hgst/libzbc.git">https://github.com/hgst/libzbc.git</a></pre><p>
The build sequence should be: 'cd &lt;libzbc_root_directory&gt; ;
./autogen.sh ; ./configure --with-test ; make ; make install' with
the 'make install' probably needing root permissions. To run the
test, starting from the same directory:</p>
<pre class="western"><font face="Liberation Mono, monospace"># modprobe scsi_debug <font color="#006c3b">max_luns</font>=1 <font color="#006c3b">sector_size</font>=512 <font color="#006c3b">zbc</font>=managed <font color="#006c3b">zone_size_mb</font>=8 <font color="#006c3b">zone_nr_conv</font>=3</font>
<font face="Liberation Mono, monospace"># lsscsi -g</font>
<font face="Liberation Mono, monospace">&lt; to see where the ZBC SCSI Generic device has &quot;landed&quot;, say /dev/sg1 &gt;</font>
<font face="Liberation Mono, monospace"># cd test</font>
<font face="Liberation Mono, monospace"># # ./zbc_test.sh /dev/sg1</font>
<font face="Liberation Mono, monospace">Executing section 00 - command completion tests...</font>
    <font face="Liberation Mono, monospace">00.010: REPORT_ZONES command completion...                                            [Passed]</font>
    <font face="Liberation Mono, monospace">00.011: REPORT_ZONES (partial bit) command completion...                              [Passed]</font>
    <font face="Liberation Mono, monospace">00.012: REPORT_ZONES (reporting option 0x10) command completion...                    [Passed]</font>
    <font face="Liberation Mono, monospace">00.013: REPORT_ZONES (reporting option 0x11) command completion...                    [Passed]</font>
    <font face="Liberation Mono, monospace">00.014: REPORT_ZONES (reporting option 0x3F) command completion...                    [Passed]</font>
    <font face="Liberation Mono, monospace">00.020: OPEN_ZONE command completion...                                               [Passed]</font>
<font face="Liberation Mono, monospace">...</font>
    <font face="Liberation Mono, monospace">02.073: WRITE implicit open to full...                                                [Passed]</font>
    <font face="Liberation Mono, monospace">02.074: WRITE closed to implicit open...                                              [Passed]</font>
    <font face="Liberation Mono, monospace">02.075: WRITE closed to full...                                                       [Passed]</font>
    <font face="Liberation Mono, monospace">02.076: WRITE explicit open to explicit open...                                       [Passed]</font>
    <font face="Liberation Mono, monospace">02.077: WRITE explicit open to full...                                                [Passed]</font>
    <font face="Liberation Mono, monospace">02.078: WRITE full to full...                                                         [Passed]</font></pre><p>
All tests should show &quot;Passed&quot; (although some are N/A (not
applicable)).</p>
<p>There is another test that can be run that relies on the zonefs
file system in Linux which was introduced in lk 5.5 . It is in the
zonefs-tools package which may need to be built. The latest source
can be found at:</p>
<pre class="western" style="margin-bottom: 0.5cm"># git clone <a href="https://github.com/damien-lemoal/zonefs-tools.git">https://github.com/damien-lemoal/zonefs-tools.git</a></pre><p>
and may rely other packages to be built (e.g. build with
'./autogen.sh ; ./configure ; make ; make install'). The fio package
should also be loaded (if not several tests will be skipped). This
test runs using a normal SCSI block device (e.g. /dev/sdb) rather
than a SCSI Generic device (e.g. /dev/sg1) as shown in the above
test. To run the zonefs test:</p>
<pre class="western"><font face="Liberation Mono, monospace"># modprobe scsi_debug <font color="#006c3b">max_luns</font>=1 <font color="#006c3b">sector_size</font>=512 <font color="#006c3b">zbc</font>=managed <font color="#006c3b">zone_size_mb</font>=8 <font color="#006c3b">zone_nr_conv</font>=3</font>
<font face="Liberation Mono, monospace"># lsscsi -s</font>
<font face="Liberation Mono, monospace">&lt; to see where the ZBC device has &quot;landed&quot;, say /dev/sdc &gt;</font>
<font face="Liberation Mono, monospace"># cd &lt;dir_with_zonefs-tools&gt;/tests</font>
<font face="Liberation Mono, monospace"># # ./zonefs-tests.sh /dev/sdc</font>
<font face="Liberation Mono, monospace">zonefs-tests on /dev/sdc:</font>
   <font face="Liberation Mono, monospace">16 zones (3 conventional zones, 13 sequential zones)</font>
   <font face="Liberation Mono, monospace">16384 512B sectors per zone (8 MiB)</font>
<font face="Liberation Mono, monospace">Running tests</font>
  <font face="Liberation Mono, monospace">Test 0010:  mkzonefs (options)                                   ... PASS</font>
  <font face="Liberation Mono, monospace">Test 0011:  mkzonefs (force format)                              ... PASS</font>
<font face="Liberation Mono, monospace">....</font>
  <font face="Liberation Mono, monospace">Test 0087:  Sequential file append (async)                       ... PASS</font>
  <font face="Liberation Mono, monospace">Test 0088:  Sequential file random read                          ... PASS</font>
  <font face="Liberation Mono, monospace">Test 0089:  Sequential file mmap read/write                      ... PASS</font>

<font face="Liberation Mono, monospace">44 / 44 tests passed</font></pre><p>
The author found with Ubuntu 18.04 LTS the mount command was too old
(from util-linux 2.31.1) but all was well on Debian 10.3 and Ubuntu
19.10 . To make the test more thorough either 'random=1' could be
added to the scsi_debug load line or sysfs could be used to change
that parameter like this:</p>
<pre class="western" style="margin-bottom: 0.5cm"># echo 1 &gt; /sys/bus/pseudo/drivers/scsi_debug/random</pre><p>
In the absence of either the <font color="#006c3b">delay</font> or
<font color="#006c3b">ndelay</font> parameters being set, the
scsi_debug driver will delay each response of media access SCSI
commands (e.g. READs and WRITEs) by 1 millisecond. With 'random=1'
set, each IO access selects its timeout from a uniform distribution
between 0 and 1 milliseconds. For asynchronously run commands,
&quot;random=1&quot; will lead to out-of-order completions. For
example if A, B, C commands are submitted in that order, they may
well complete in the A, C, B order.</p>
<h3 class="western">REPORT LUNS Well Known LU</h3>
<p>There are two techniques for discovering the luns that a SCSI
target supports. The first (and oldest) is based sending commands
like INQUIRY and REPORT LUNS to lun 0 (i.e. the LUN whose value is
eight bytes of zero), even if the target has no lun 0. The second
technique is based on one of the so-called &quot;well known logical
units&quot;, specifically the REPORT LUNS well known logical unit. If
present it must support the INQUIRY, REPORT LUNS, REQUEST SENSE and
TEST UNIT READY commands. Simulating one with scsi_debug is somewhat
contorted:</p>
<pre class="western"><font face="Liberation Mono, monospace"># modprobe scsi_debug <font color="#006c3b">no_lun_0</font>=1 <font color="#006c3b">max_luns</font>=2</font>
<font face="Liberation Mono, monospace">#</font>
<font face="Liberation Mono, monospace"># lsscsi -g</font>
<font face="Liberation Mono, monospace">[0:0:0:0] disk ATA INTEL SSDSC2BW18 DC32 /dev/sda /dev/sg0 </font>
<font face="Liberation Mono, monospace">[3:0:0:1] disk Linux scsi_debug 0184 /dev/sdb /dev/sg1</font>
<font face="Liberation Mono, monospace">#</font>
<font face="Liberation Mono, monospace"># lsscsi --hosts</font>
<font face="Liberation Mono, monospace">[0] ahci </font>
<font face="Liberation Mono, monospace">[1] ahci </font>
<font face="Liberation Mono, monospace">[2] ahci </font>
<font face="Liberation Mono, monospace">[3] scsi_debug</font>
<font face="Liberation Mono, monospace">#</font>

<font face="Liberation Mono, monospace"># ## Pick the host number corresponding to scsi_debug (i.e. &quot;3&quot;)</font>
<font face="Liberation Mono, monospace"># ## The host number is also the first number in the tuple (i.e. &quot;3&quot; in [3:0:0:1]).</font>
<font face="Liberation Mono, monospace">#</font>
<font face="Liberation Mono, monospace"># cd /sys/class/scsi_host/host3</font>
<font face="Liberation Mono, monospace"># echo &quot;- - 49409&quot; &gt; scan</font>
<font face="Liberation Mono, monospace">#</font>
<font face="Liberation Mono, monospace"># lsscsi -g</font>
<font face="Liberation Mono, monospace">[0:0:0:0] disk ATA INTEL SSDSC2BW18 DC32 /dev/sda /dev/sg0 </font>
<font face="Liberation Mono, monospace">[3:0:0:1] disk Linux scsi_debug 0184 /dev/sdb /dev/sg1 </font>
<font face="Liberation Mono, monospace">[3:0:0:49409]wlun Linux scsi_debug 0184 - /dev/sg2</font></pre><p>
The scsi_debug driver needed to be told that it had <font color="#006c3b">no_lun_0</font>
so it started generating luns at 1 ([3:0:0:1]) and then the scsi
sub-system needed to be told to scan specifically for lun 49409
(0xc101). Thereafter the REPORT LUNS wlun appeared.</p>
<p>The way a SCSI initiator (host) scans for targets is transport
specific. In the case of the scsi_debug driver it has a magic
transport (bus) called &quot;pseudo&quot; which does the right thing.
Apart from target discovery, the scsi_debug driver tries to simulate
SAS devices, see the next section.</p>
<h3 class="western">SAS personality</h3>
<p>The scsi_debug driver has a Serial Attached SCSI (SAS)
personality. For any application that cares, it looks like a dual
ported SAS disk accessed via the primary port (relative target port
1). In one case it masquerades as a SATA disk behind a SCSI to ATA
Translation (SAT) layer (SATL). Many of the settings are in common
with Fibre Channel dual ported disks.<br/>
<br/>
The driver sets the
MULTIP (multiport) bit in the INQUIRY response. The following VPD
pages are SAS or SAT specific:</p>
<ul>
	<li><p style="margin-bottom: 0cm">device identification page [0x83]
	(yields naa-5 addresses for the lu, the accessing target port and
	the target device, plus some other designators)</p>
	<li><p style="margin-bottom: 0cm">SCSI ports [0x88] (shows the naa-5
	addresses of both ports) 
	</p>
	<li><p>ATA information [0x89] (simulates a SATA disk in a SAS
	domain, defined in SAT) 
	</p>
</ul>
<p>The naa-5 addresses are meant to be world wide unique names which
represents a challenge to the scsi_debug driver. Amongst other things
Linux does not have a IEEE company id [memo: OSDL]. Even if it did,
making them truly unique in a virtual driver, especially if multiple
boxes could somehow see each other, would be difficult.<br/>
<br/>
There
are also several SAS specific mode pages:</p>
<ul>
	<li><p style="margin-bottom: 0cm">protocol specific port page (SAS):
	short format page [0x19,0x0] 
	</p>
	<li><p style="margin-bottom: 0cm">protocol specific port page (SAS):
	phy control and discover subpage [0x19,0x1] 
	</p>
	<li><p>protocol specific port page (SAS): shared mode subpage
	[0x19,0x2] (sas2 version) 
	</p>
</ul>
<p>Both the VPD and mode pages can be viewed from the user space with
an application like <a href="sdparm.html">sdparm</a> . Below is an
example of the device identification VPD page:</p>
<pre class="western"># sdparm -i /dev/sda
 /dev/sda: Linux scsi_debug 0004
Device identification VPD page:
 Addressed logical unit:
 desig_type: T10 vendor identification, code_set: ASCII
 vendor id: Linux
 vendor specific: scsi_debug 2000
 desig_type: NAA, code_set: Binary
 0x53333330000007d0
 Target port:
 desig_type: Relative target port, code_set: Binary
 transport: Serial Attached SCSI (SAS)
 Relative target port: 0x1
 desig_type: NAA, code_set: Binary
 transport: Serial Attached SCSI (SAS)
 0x52222220000007ce
 Target device that contains addressed lu:
 desig_type: NAA, code_set: Binary
 transport: Serial Attached SCSI (SAS)
 0x52222220000007cd
 desig_type: SCSI name string, code_set: UTF-8
 transport: Serial Attached SCSI (SAS)
 SCSI name string:
 naa.52222220000007CD</pre><p>
Below is an example of the SCSI ports VPD page showing a dual ported
target:</p>
<pre class="western"># sdparm -i -p sp /dev/sda
 /dev/sda: Linux scsi_debug 0004
SCSI Ports VPD page:
Relative port=1
 Target port descriptor(s):
 desig_type: NAA, code_set: Binary
 transport: Serial Attached SCSI (SAS)
 0x52222220000007ce
Relative port=2
 Target port descriptor(s):
 desig_type: NAA, code_set: Binary
 transport: Serial Attached SCSI (SAS)
 0x52222220000007cf</pre><p>
Notice that the above implies that the INQUIRY was sent via port 1
(port A) of the emulated SAS dual ported target. The protocol
specific port phy control and discover mode subpage [0x19,0x1] has
target port/phy SAS addresses that correspond to the SCSI ports VPD
page:</p>
<pre class="western"><font face="Liberation Mono, monospace"># sdparm -t sas -p pcd -l /dev/sda</font>
 <font face="Liberation Mono, monospace">/dev/sda: Linux scsi_debug 0004</font>
 <font face="Liberation Mono, monospace">Direct access device specific parameters: WP=0 DPOFUA=0</font>
<font face="Liberation Mono, monospace">port: phy control and discover (SAS) mode page:</font>
 <font face="Liberation Mono, monospace">PPID_1 6 [cha: n, def: 6] Port's (transport) protocol identifier</font>
 <font face="Liberation Mono, monospace">NOP 2 [cha: n, def: 2] Number of phys</font>
 <font face="Liberation Mono, monospace">PHID 0 [cha: n, def: 0] Phy identifier</font>
 <font face="Liberation Mono, monospace">ADT 1 [cha: n, def: 1] Attached device type</font>
 <font face="Liberation Mono, monospace">NPLR 9 [cha: n, def: 9] Negotiated physical link rate</font>
 <font face="Liberation Mono, monospace">ASIP 1 [cha: n, def: 1] Attached SSP initiator port</font>
 <font face="Liberation Mono, monospace">ATIP 0 [cha: n, def: 0] Attached STP initiator port</font>
 <font face="Liberation Mono, monospace">AMIP 0 [cha: n, def: 0] Attached SMP initiator port</font>
 <font face="Liberation Mono, monospace">ASTP 0 [cha: n, def: 0] Attached SSP target port</font>
 <font face="Liberation Mono, monospace">ATTP 0 [cha: n, def: 0] Attached STP target port</font>
 <font face="Liberation Mono, monospace">AMTP 0 [cha: n, def: 0] Attached SMP target port</font>
 <font face="Liberation Mono, monospace">SASA 0x52222220000007ce [cha: n, def:0x52222220000007ce] SAS address</font>
 <font face="Liberation Mono, monospace">ASASA 0x5111111000000001 [cha: n, def:0x5111111000000001] Attached SAS address</font>
 <font face="Liberation Mono, monospace">APHID 2 [cha: n, def: 2] Attached phy identifier</font>
 <font face="Liberation Mono, monospace">PMILR 8 [cha: n, def: 8] Programmed minimum link rate</font>
 <font face="Liberation Mono, monospace">HMILR 8 [cha: n, def: 8] Hardware minimum link rate</font>
 <font face="Liberation Mono, monospace">PMALR 9 [cha: n, def: 9] Programmed maximum link rate</font>
 <font face="Liberation Mono, monospace">HMALR 9 [cha: n, def: 9] Hardware maximum link rate</font>
 <font face="Liberation Mono, monospace">2_PHID 1 [cha: n, def: 1] Phy identifier</font>
 <font face="Liberation Mono, monospace">2_ADT 1 [cha: n, def: 1] Attached device type</font>
 <font face="Liberation Mono, monospace">2_NPLR 9 [cha: n, def: 9] Negotiated physical link rate</font>
 <font face="Liberation Mono, monospace">2_ASIP 1 [cha: n, def: 1] Attached SSP initiator port</font>
 <font face="Liberation Mono, monospace">2_ATIP 0 [cha: n, def: 0] Attached STP initiator port</font>
 <font face="Liberation Mono, monospace">2_AMIP 0 [cha: n, def: 0] Attached SMP initiator port</font>
 <font face="Liberation Mono, monospace">2_ASTP 0 [cha: n, def: 0] Attached SSP target port</font>
 <font face="Liberation Mono, monospace">2_ATTP 0 [cha: n, def: 0] Attached STP target port</font>
 <font face="Liberation Mono, monospace">2_AMTP 0 [cha: n, def: 0] Attached SMP target port</font>
 <font face="Liberation Mono, monospace">2_SASA 0x52222220000007cf [cha: n, def:0x52222220000007cf] SAS address</font>
 <font face="Liberation Mono, monospace">2_ASASA 0x5111111000000001 [cha: n, def:0x5111111000000001] Attached SAS address</font>
 <font face="Liberation Mono, monospace">2_APHID 3 [cha: n, def: 3] Attached phy identifier</font>
 <font face="Liberation Mono, monospace">2_PMILR 8 [cha: n, def: 8] Programmed minimum link rate</font>
 <font face="Liberation Mono, monospace">2_HMILR 8 [cha: n, def: 8] Hardware minimum link rate</font>
 <font face="Liberation Mono, monospace">2_PMALR 9 [cha: n, def: 9] Programmed maximum link rate</font>
 <font face="Liberation Mono, monospace">2_HMALR 9 [cha: n, def: 9] Hardware maximum link rate</font></pre><p>
Other supported mode pages can be accessed in a similar way by the
<a href="sdparm.html">sdparm</a> utility. Note that transport
specific mode pages need the transport identified: hence the '-t sas'
option above.</p>
<h2 class="western">Downloads</h2>
<p>There is nothing to download, see
&lt;linux_kernel_source&gt;/drivers/scsi/scsi_debug.c .</p>
<h2 class="western">Conclusion</h2>
<p>Hopefully the design of the scsi_debug driver lends itself to many
extensions. If you think that you have a useful extension that others
may be interested in, please contact the linux-scsi list or the
author with a patch.<br/>
<br/>
<br/>

</p>
<p>&nbsp;<a href="index.html">Back</a>&nbsp; to main page 
</p>
<p>Douglas Gilbert &lt;dgilbert at interlog dot com&gt;<br/>
with
additions from<br/>
Martin K. Petersen &lt;martin dot petersen at
oracle dot com&gt;</p>
<p style="margin-left: 8.75cm">Last updated: 15th May 2022 12:00
-0500</p>
</body>
</html>